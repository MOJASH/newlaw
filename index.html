<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>حاسبة الحقوق العمالية - قانون العمل الأردني</title>
    <style>
        :root{
            --primary-color:#0d1b5e;
            --secondary-color:#f8f9fa;
            --accent-color:#d4af37;
            --text-color:#333;
            --border-color:#ddd;
            --gold-light:#f0e6d2;
            --blue-light:#e8f4fd;
        }
        *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body{background-color:#f5f7fa;color:var(--text-color);line-height:1.6;min-height:100vh;overflow-x:hidden;}
        #particles-js{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;background:linear-gradient(45deg,#0d1b5e,#1a237e,#283593,#303f9f);background-size:400% 400%;animation:gradientBG 15s ease infinite;}
        @keyframes gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        .container{max-width:1200px;margin:0 auto;padding:15px;position:relative;z-index:1}

        /* ===== التعديل الرئيسي: شريط علوي موحَّد ===== */
        .top-bar {
            display:flex;
            align-items:center;
            gap:12px;
            margin-bottom:8px;
            padding:6px 4px;
        }
        .creator-info{
            font-size:12px; /* نفس الحجم لكن أقل بروزًا */
            color:var(--gold-light);
            opacity:0.85;
            white-space:nowrap;
            margin-right:auto; /* في وضع RTL هذا يجعل النص في الجهة اليسرى البصرية كما أردت أن يكون منسقًا مع السطر العلوي */
        }
        .language-switcher{
            display:flex;
            gap:8px;
        }
        .lang-btn {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            border: 1px solid var(--gold-light);
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .lang-btn:hover, .lang-btn.active {
            background: var(--gold-light);
            color: var(--primary-color);
        }
        /* ===== نهاية التعديل الرئيسي ===== */

        header{background:linear-gradient(135deg,var(--primary-color),#1a237e);color:white;padding:15px;border-radius:8px 8px 0 0;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.1);margin-bottom:15px;border-bottom:3px solid var(--accent-color)}
        h1{margin-bottom:5px;font-size:22px;color:white}
        .header-subtitle{font-size:14px;margin-bottom:5px;color:var(--gold-light)}
        .header-instruction{font-size:12px;opacity:0.9;color:var(--gold-light)}
        .form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px;margin-bottom:15px}
        .form-section{background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.1);border-right:3px solid var(--accent-color)}
        h2{color:var(--primary-color);margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid var(--accent-color);font-size:16px}
        .input-group{margin-bottom:12px}
        label{display:block;margin-bottom:4px;font-weight:bold;font-size:13px;color:var(--primary-color)}
        input,select{width:100%;padding:8px;border:1px solid var(--border-color);border-radius:4px;font-size:14px;transition:border-color .3s}
        input:focus,select:focus{border-color:var(--accent-color);outline:none;box-shadow:0 0 0 2px rgba(212,175,55,0.2)}
        .compact-row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
        .compact-row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
        .service-duration-group{display:flex;gap:10px}
        .service-duration-group .input-group{flex:1}
        .checkbox-group{display:flex;align-items:center;margin-bottom:8px}
        .checkbox-group input{width:auto;margin-left:8px}
        .checkbox-group.disabled{opacity:0.6;pointer-events:none}
        .contract-details{display:none;background-color:var(--blue-light);padding:12px;border-radius:4px;margin-top:8px;border-right:4px solid var(--primary-color);font-size:13px}
        .service-note{background-color:#fff8e1;color:#b8860b;padding:10px;border-radius:4px;margin-top:10px;border-right:4px solid var(--accent-color);font-size:12px;display:none}
        button{background:linear-gradient(135deg,var(--primary-color),#1a237e);color:white;border:none;padding:10px 15px;font-size:16px;border-radius:4px;cursor:pointer;width:100%;transition:all .3s;margin-bottom:8px;font-weight:bold}
        button:hover{background:linear-gradient(135deg,#1a237e,var(--primary-color));transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.2)}
        .reset-btn{background:linear-gradient(135deg,#6c757d,#5a6268)}
        .reset-btn:hover{background:linear-gradient(135deg,#5a6268,#6c757d)}
        .result-section{background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.1);margin-top:15px;display:none;border-right:3px solid var(--accent-color)}
        .result-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border-color);font-size:14px}
        .result-item:last-child{border-bottom:none;font-weight:bold;font-size:16px;color:var(--primary-color);background-color:var(--gold-light);padding:10px;border-radius:4px;margin-top:5px}
        .annual-leave-details{background-color:var(--blue-light);padding:12px;border-radius:4px;margin-top:8px;border-right:4px solid var(--primary-color);font-size:13px}
        .footer{text-align:center;margin-top:20px;padding:15px;background:linear-gradient(135deg,var(--primary-color),#1a237e);color:white;border-radius:8px;font-size:13px;border-top:3px solid var(--accent-color)}
        .copyright{font-size:11px;margin-top:8px;opacity:0.8;color:var(--gold-light)}
        .law-reference{font-size:12px;margin-top:4px;color:var(--gold-light)}
        .action-buttons{display:flex;gap:8px;margin-top:15px}
        .action-buttons button{flex:1;font-size:14px}
        .print-btn{background:linear-gradient(135deg,var(--accent-color),#b8941f);color:#333;font-weight:bold}
        .print-btn:hover{background:linear-gradient(135deg,#b8941f,var(--accent-color))}
        .result-note{background-color:var(--blue-light);padding:8px;border-radius:4px;margin-top:4px;border-right:4px solid var(--primary-color);font-size:11px;color:#555}
        .legal-notice{background-color:#ffebee;border:2px solid #f44336;color:#c62828;padding:10px;border-radius:4px;margin-top:15px;text-align:center;font-size:11px;line-height:1.5;font-weight:bold}
        .legal-notes{background-color:var(--secondary-color);border:1px solid #ddd;padding:12px;border-radius:4px;margin-top:15px;font-size:10px;line-height:1.4;color:#555}
        .legal-notes h3{color:var(--primary-color);margin-bottom:8px;font-size:12px;text-align:center;border-bottom:1px solid var(--accent-color);padding-bottom:5px}
        .legal-notes ul{list-style:none;padding:0;margin:0}
        .legal-notes li{margin-bottom:6px;padding-right:5px;border-right:2px solid var(--primary-color)}
        
        @media (max-width:768px){
            .container{padding:10px}
            .form-grid{grid-template-columns:1fr}
            .form-section{padding:12px}
            .service-duration-group{flex-direction:column}
            .action-buttons{flex-direction:column}
            .compact-row,.compact-row-3{grid-template-columns:1fr}
            .language-switcher {
                justify-content: center;
            }
            .creator-info{text-align:center;margin-right:0;}
        }
        @media print{
            #particles-js,button,.legal-notice,.footer{display:none!important}
            .form-section,.result-section{box-shadow:none;border:1px solid #ddd}
            body{background-color:white}
        }
        
        /* English Language Styles */
        body.english {
            direction: ltr;
            font-family: Arial, sans-serif;
        }
        body.english .form-section {
            border-right: none;
            border-left: 3px solid var(--accent-color);
        }
        body.english .contract-details,
        body.english .service-note,
        body.english .result-note,
        body.english .legal-notes li {
            border-right: none;
            border-left: 4px solid var(--primary-color);
        }
        body.english .checkbox-group input {
            margin-left: 0;
            margin-right: 8px;
        }
    </style>
</head>
<body>
    <div id="particles-js"></div>

    <div class="container">
        <!-- TOP BAR: creator info + language buttons (هذا هو التعديل الفعلي في التنسيق) -->
        <div class="top-bar">
            <div class="creator-info" data-translate="creatorInfo">أنشئت بواسطة: المحامي محمد الشوحه</div>
            <div class="language-switcher" aria-label="language switcher">
                <button class="lang-btn active" data-lang="ar">العربية</button>
                <button class="lang-btn" data-lang="en">English</button>
            </div>
        </div>

        <header>
            <h1 data-translate="pageTitle">حاسبة الحقوق العمالية</h1>
            <p class="header-subtitle" data-translate="pageSubtitle">بناءً على قانون العمل الأردني رقم 8 لسنة 1996 وتعديلاته</p>
            <p class="header-instruction" data-translate="pageInstruction">أدخل معلوماتك لحساب مستحقاتك</p>
        </header>

        <form id="rightsCalculator">
            <div class="form-grid">
                <div class="form-section">
                    <h2 data-translate="basicWageInfo">معلومات الأجر الأساسي</h2>
                    <div class="input-group">
                        <label for="wageType" data-translate="wageType">نوع الأجر</label>
                        <select id="wageType" tabindex="1">
                            <option value="">-- <span data-translate="chooseWageType">اختر نوع الأجر</span> --</option>
                            <option value="daily" data-translate="dailyWage">أجر يومي</option>
                            <option value="monthly" data-translate="monthlyWage">أجر شهري</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="lastWage" data-translate="lastBasicSalary">الراتب الأساسي الأخير (دينار)</label>
                        <input type="number" id="lastWage" min="0" step="0.01" required tabindex="2">
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="dueSalaries">الرواتب المستحقة</h2>
                    <div class="input-group">
                        <label for="contractType" data-translate="contractType">نوع العقد</label>
                        <select id="contractType" tabindex="3">
                            <option value="">-- <span data-translate="chooseContractType">اختر نوع العقد</span> --</option>
                            <option value="indefinite" data-translate="indefiniteContract">عقد غير محدد المدة</option>
                            <option value="definite" data-translate="definiteContract">عقد محدد المدة</option>
                        </select>
                    </div>

                    <div class="contract-details" id="contractDetails">
                        <h3 data-translate="definiteContractDetails">تفاصيل العقد المحدد المدة</h3>
                        <div class="compact-row-3">
                            <div class="input-group">
                                <label for="contractDuration" data-translate="contractDuration">مدة العقد (أشهر)</label>
                                <input type="number" id="contractDuration" min="1" step="1" tabindex="4">
                            </div>
                            <div class="input-group">
                                <label for="workedMonths" data-translate="workedMonths">الأشهر التي عملتها</label>
                                <input type="number" id="workedMonths" min="0" step="1" tabindex="5">
                            </div>
                            <div class="input-group">
                                <label for="workedDays" data-translate="workedDays">الأيام التي عملتها</label>
                                <input type="number" id="workedDays" min="0" max="30" step="1" tabindex="6">
                            </div>
                        </div>
                    </div>

                    <div class="compact-row">
                        <div class="input-group">
                            <label for="unpaidMonths" data-translate="unpaidMonths">أشهر مستحقة</label>
                            <input type="number" id="unpaidMonths" min="0" step="1" tabindex="7">
                        </div>
                        <div class="input-group">
                            <label for="unpaidDays" data-translate="unpaidDays">أيام مستحقة</label>
                            <input type="number" id="unpaidDays" min="0" step="1" tabindex="8">
                        </div>
                    </div>

                    <div class="input-group">
                        <label for="vacationDays" data-translate="vacationDays">أيام إجازات مستحقة</label>
                        <input type="number" id="vacationDays" min="0" step="1" tabindex="9">
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="serviceDuration">مدة الخدمة</h2>
                    <div class="service-duration-group">
                        <div class="input-group">
                            <label for="serviceYears" data-translate="years">السنوات</label>
                            <input type="number" id="serviceYears" min="0" step="1" tabindex="10">
                        </div>
                        <div class="input-group">
                            <label for="serviceMonths" data-translate="months">الأشهر</label>
                            <input type="number" id="serviceMonths" min="0" max="11" step="1" tabindex="11">
                        </div>
                        <div class="input-group">
                            <label for="serviceDays" data-translate="days">الأيام</label>
                            <input type="number" id="serviceDays" min="0" max="30" step="1" tabindex="12">
                        </div>
                    </div>

                    <div class="service-note" id="serviceNote">
                        <strong data-translate="note">ملاحظة:</strong> <span data-translate="serviceNoteText">يتم استخدام مدة الخدمة لاحتساب بدل نهاية الخدمة في حال عدم اشتراك العامل بالضمان الاجتماعي</span>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="terminationDetails">تفاصيل إنهاء الخدمة</h2>
                    <div class="checkbox-group" id="noticeMonthGroup">
                        <input type="checkbox" id="noticeMonth" tabindex="13">
                        <label for="noticeMonth" data-translate="deservesNoticeMonth">يستحق بدل شهر الإشعار</label>
                    </div>

                    <div class="input-group">
                        <label for="socialSecurity" data-translate="socialSecurity">الضمان الاجتماعي</label>
                        <select id="socialSecurity" tabindex="14">
                            <option value="yes" data-translate="yesSubscribed">نعم - مشترك</option>
                            <option value="no" data-translate="notSubscribed">لا - غير مشترك</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label for="terminationType" data-translate="terminationReason">سبب إنهاء الخدمة</label>
                        <select id="terminationType" tabindex="15">
                            <option value="mutual" data-translate="mutualTermination">إنهاء برضا الطرفين</option>
                            <option value="indefinite" data-translate="arbitraryIndefinite">فصل تعسفي (عقد غير محدد)</option>
                            <option value="definite" data-translate="arbitraryDefinite">فصل تعسفي (عقد محدد)</option>
                        </select>
                    </div>

                    <div class="checkbox-group" id="arbitraryDismissalGroup" style="display:none">
                        <input type="checkbox" id="arbitraryDismissal" tabindex="16">
                        <label for="arbitraryDismissal" data-translate="deservesArbitraryDismissal">يستحق بدل فصل تعسفي</label>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="overtimeWork">العمل الإضافي</h2>
                    <div class="compact-row">
                        <div class="input-group">
                            <label for="overtimeHours" data-translate="overtimeHours">ساعات إضافية/يوم</label>
                            <input type="number" id="overtimeHours" min="0" step="0.5" tabindex="17">
                        </div>
                        <div class="input-group">
                            <label for="overtimeDays" data-translate="overtimeDays">أيام عمل إضافي</label>
                            <input type="number" id="overtimeDays" min="0" step="1" tabindex="18">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="holidayWork">العمل في العطل والأعياد</h2>
                    <div class="compact-row">
                        <div class="input-group">
                            <label for="holidayDays" data-translate="holidayDays">أيام العطل الرسمية</label>
                            <input type="number" id="holidayDays" min="0" step="1" tabindex="19">
                        </div>
                        <div class="input-group">
                            <label for="fridayDays" data-translate="fridayDays">أيام الجمعة</label>
                            <input type="number" id="fridayDays" min="0" step="1" tabindex="20">
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" tabindex="21" data-translate="calculateRights">احسب المستحقات</button>
                <button type="button" class="reset-btn" id="resetBtn" tabindex="22" data-translate="resetFields">تفريغ الحقول</button>
            </div>
        </form>

        <div class="result-section" id="resultSection">
            <h2 data-translate="calculationResults">نتائج حساب المستحقات</h2>
            <div id="resultContent"></div>

            <div class="legal-notes" id="legalNotes">
                <h3 data-translate="legalNotes">ملاحظات قانونية</h3>
                <ul>
                    <li data-translate="legalNote1">م46: الأجر يُدفع خلال 7 أيام من استحقاقه، ولا يجوز حسمه إلا وفق القانون.</li>
                    <li data-translate="legalNote2">م61: للعامل إجازة سنوية 14 يومًا، وتصبح 21 يومًا بعد 5 سنوات خدمة متصلة لدى صاحب العمل.</li>
                    <li data-translate="legalNote3">م32: يستحق العامل الذي لا يخضع لأحكام الضمان الاجتماعي مكافأة نهاية خدمة تساوي شهر عن كل سنة خدمة.</li>
                    <li data-translate="legalNote4">م23: بدل الإشعار يساوي راتب شهر واحد ويحتسب بناءً على آخر أجر تقاضاه العامل.</li>
                    <li data-translate="legalNote5">م59: أجر العمل الإضافي يساوي 125% من أجر العامل المعتاد، و150% عند العمل بالعطل الرسمية أو الأعياد الدينية.</li>
                    <li data-translate="legalNote6">م25: في حالة الفصل التعسفي لعقود العمل غير محددة المدة فإن العامل يستحق بدل إشعار بالإضافة إلى أجر نصف شهر عن كل سنة خدمة بما لا يقل عن أجر شهرين.</li>
                    <li data-translate="legalNote7">م26: في حالة الفصل التعسفي لعقود العمل محددة المدة فإن العامل يستحق أجر باقي المدة العقدية.</li>
                    <li data-translate="legalNote8">يتم احتساب الحقوق العمالية عن آخر سنتين من تاريخ انتهاء العمل لدى صاحب العمل باستثناء مكافأة نهاية الخدمة فإنها تحتسب عن طيلة مدة الخدمة.</li>
                </ul>
            </div>

            <div class="legal-notice" data-translate="legalNotice">تنبيه: هذه الحاسبة هي أداة إرشادية فقط، وهي غير ملزمة لأي جهة. يوصى دائماً باستشارة جهة مختصة للحصول على نتائج دقيقة.</div>

            <div class="action-buttons">
                <button type="button" class="print-btn" id="printBtn" data-translate="printResults">طباعة النتائج</button>
            </div>
        </div>

        <div class="footer">
            <p data-translate="createdBy">تم إنشاء هذه الصفحة بواسطة المحامي محمد الشوحه</p>
            <p class="law-reference" data-translate="lawReference">تم إنشاء هذه الحاسبة وفقاً لقانون العمل الأردني رقم 8 لسنة 1996 وتعديلاته</p>
            <p class="copyright" data-translate="copyright">جميع الحقوق محفوظة © 2023 - هذه الصفحة محمية بموجب قوانين حقوق النشر والملكية الفكرية</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <script>
        // Language management
        const translations = {
            ar: {
                creatorInfo: "أنشئت بواسطة: المحامي محمد الشوحه",
                pageTitle: "حاسبة الحقوق العمالية",
                pageSubtitle: "بناءً على قانون العمل الأردني رقم 8 لسنة 1996 وتعديلاته",
                pageInstruction: "أدخل معلوماتك لحساب مستحقاتك",
                basicWageInfo: "معلومات الأجر الأساسي",
                wageType: "نوع الأجر",
                chooseWageType: "اختر نوع الأجر",
                dailyWage: "أجر يومي",
                monthlyWage: "أجر شهري",
                lastBasicSalary: "الراتب الأساسي الأخير (دينار)",
                dueSalaries: "الرواتب المستحقة",
                contractType: "نوع العقد",
                chooseContractType: "اختر نوع العقد",
                indefiniteContract: "عقد غير محدد المدة",
                definiteContract: "عقد محدد المدة",
                definiteContractDetails: "تفاصيل العقد المحدد المدة",
                contractDuration: "مدة العقد (أشهر)",
                workedMonths: "الأشهر التي عملتها",
                workedDays: "الأيام التي عملتها",
                unpaidMonths: "أشهر مستحقة",
                unpaidDays: "أيام مستحقة",
                vacationDays: "أيام إجازات مستحقة",
                serviceDuration: "مدة الخدمة",
                years: "السنوات",
                months: "الأشهر",
                days: "الأيام",
                note: "ملاحظة:",
                serviceNoteText: "يتم استخدام مدة الخدمة لاحتساب بدل نهاية الخدمة في حال عدم اشتراك العامل بالضمان الاجتماعي",
                terminationDetails: "تفاصيل إنهاء الخدمة",
                deservesNoticeMonth: "يستحق بدل شهر الإشعار",
                socialSecurity: "الضمان الاجتماعي",
                yesSubscribed: "نعم - مشترك",
                notSubscribed: "لا - غير مشترك",
                terminationReason: "سبب إنهاء الخدمة",
                mutualTermination: "إنهاء برضا الطرفين",
                arbitraryIndefinite: "فصل تعسفي (عقد غير محدد)",
                arbitraryDefinite: "فصل تعسفي (عقد محدد)",
                deservesArbitraryDismissal: "يستحق بدل فصل تعسفي",
                overtimeWork: "العمل الإضافي",
                overtimeHours: "ساعات إضافية/يوم",
                overtimeDays: "أيام عمل إضافي",
                holidayWork: "العمل في العطل والأعياد",
                holidayDays: "أيام العطل الرسمية",
                fridayDays: "أيام الجمعة",
                calculateRights: "احسب المستحقات",
                resetFields: "تفريغ الحقول",
                calculationResults: "نتائج حساب المستحقات",
                legalNotes: "ملاحظات قانونية",
                legalNote1: "م46: الأجر يُدفع خلال 7 أيام من استحقاقه، ولا يجوز حسمه إلا وفق القانون.",
                legalNote2: "م61: للعامل إجازة سنوية 14 يومًا، وتصبح 21 يومًا بعد 5 سنوات خدمة متصلة لدى صاحب العمل.",
                legalNote3: "م32: يستحق العامل الذي لا يخضع لأحكام الضمان الاجتماعي مكافأة نهاية خدمة تساوي شهر عن كل سنة خدمة.",
                legalNote4: "م23: بدل الإشعار يساوي راتب شهر واحد ويحتسب بناءً على آخر أجر تقاضاه العامل.",
                legalNote5: "م59: أجر العمل الإضافي يساوي 125% من أجر العامل المعتاد، و150% عند العمل بالعطل الرسمية أو الأعياد الدينية.",
                legalNote6: "م25: في حالة الفصل التعسفي لعقود العمل غير محددة المدة فإن العامل يستحق بدل إشعار بالإضافة إلى أجر نصف شهر عن كل سنة خدمة بما لا يقل عن أجر شهرين.",
                legalNote7: "م26: في حالة الفصل التعسفي لعقود العمل محددة المدة فإن العامل يستحق أجر باقي المدة العقدية.",
                legalNote8: "يتم احتساب الحقوق العمالية عن آخر سنتين من تاريخ انتهاء العمل لدى صاحب العمل باستثناء مكافأة نهاية الخدمة فإنها تحتسب عن طيلة مدة الخدمة.",
                legalNotice: "تنبيه: هذه الحاسبة هي أداة إرشادية فقط، وهي غير ملزمة لأي جهة. يوصى دائماً باستشارة جهة مختصة للحصول على نتائج دقيقة.",
                printResults: "طباعة النتائج",
                createdBy: "تم إنشاء هذه الصفحة بواسطة المحامي محمد الشوحه",
                lawReference: "تم إنشاء هذه الحاسبة وفقاً لقانون العمل الأردني رقم 8 لسنة 1996 وتعديلاته",
                copyright: "جميع الحقوق محفوظة © 2023 - هذه الصفحة محمية بموجب قوانين حقوق النشر والملكية الفكرية",
                // Result translations
                unpaidSalaries: "الرواتب المستحقة",
                vacationPay: "بدل الإجازات المستحقة",
                endOfService: "بدل نهاية الخدمة",
                noticeCompensation: "بدل شهر الإشعار",
                overtimePay: "بدل العمل الإضافي",
                holidayPay: "بدل العطل الرسمية",
                fridayPay: "بدل أيام الجمعة",
                arbitraryDismissalComp: "بدل الفصل التعسفي",
                total: "الإجمالي",
                dinar: "دينار",
                noEndOfService: "لا يستحق العامل بدل نهاية الخدمة لأنه مشترك بالضمان الاجتماعي.",
                endOfServiceNote: "يتم احتساب بدل نهاية الخدمة لأن العامل غير مشترك بالضمان الاجتماعي.",
                noNoticeCompensation: "لا يستحق العامل بدل شهر الإشعار في حالة العقد محدد المدة.",
                noticeCompensationYes: "يستحق العامل بدل شهر الإشعار.",
                noticeCompensationNo: "لا يستحق العامل بدل شهر الإشعار.",
                arbitraryDismissalExplanation1: "بدل الفصل التعسفي: نصف شهر عن كل سنة خدمة بما لا يقل عن أجر شهرين",
                arbitraryDismissalExplanation2: "دينار حسب المادة 25 من قانون العمل.",
                endOfServiceExplanation: "بدل نهاية الخدمة: شهر عن كل سنة خدمة"
            },
            en: {
                creatorInfo: "Created by: Lawyer Mohammed Al-Shouha",
                pageTitle: "Labor Rights Calculator",
                pageSubtitle: "Based on Jordanian Labor Law No. 8 of 1996 and its amendments",
                pageInstruction: "Enter your information to calculate your entitlements",
                basicWageInfo: "Basic Wage Information",
                wageType: "Wage Type",
                chooseWageType: "Choose Wage Type",
                dailyWage: "Daily Wage",
                monthlyWage: "Monthly Wage",
                lastBasicSalary: "Last Basic Salary (JD)",
                dueSalaries: "Due Salaries",
                contractType: "Contract Type",
                chooseContractType: "Choose Contract Type",
                indefiniteContract: "Indefinite Term Contract",
                definiteContract: "Definite Term Contract",
                definiteContractDetails: "Definite Term Contract Details",
                contractDuration: "Contract Duration (Months)",
                workedMonths: "Months Worked",
                workedDays: "Days Worked",
                unpaidMonths: "Unpaid Months",
                unpaidDays: "Unpaid Days",
                vacationDays: "Due Vacation Days",
                serviceDuration: "Service Duration",
                years: "Years",
                months: "Months",
                days: "Days",
                note: "Note:",
                serviceNoteText: "Service duration is used to calculate end-of-service compensation if the worker is not subscribed to social security",
                terminationDetails: "Service Termination Details",
                deservesNoticeMonth: "Deserves Notice Month Compensation",
                socialSecurity: "Social Security",
                yesSubscribed: "Yes - Subscribed",
                notSubscribed: "No - Not Subscribed",
                terminationReason: "Termination Reason",
                mutualTermination: "Termination by Mutual Consent",
                arbitraryIndefinite: "Arbitrary Dismissal (Indefinite Contract)",
                arbitraryDefinite: "Arbitrary Dismissal (Definite Contract)",
                deservesArbitraryDismissal: "Deserves Arbitrary Dismissal Compensation",
                overtimeWork: "Overtime Work",
                overtimeHours: "Overtime Hours/Day",
                overtimeDays: "Overtime Days",
                holidayWork: "Work on Holidays and Occasions",
                holidayDays: "Official Holiday Days",
                fridayDays: "Friday Days",
                calculateRights: "Calculate Rights",
                resetFields: "Reset Fields",
                calculationResults: "Calculation Results",
                legalNotes: "Legal Notes",
                legalNote1: "Article 46: Wages must be paid within 7 days of becoming due, and may not be deducted except in accordance with the law.",
                legalNote2: "Article 61: The worker is entitled to 14 days of annual leave, which becomes 21 days after 5 consecutive years of service with the employer.",
                legalNote3: "Article 32: A worker not subject to social security provisions is entitled to an end-of-service reward equal to one month's wage for each year of service.",
                legalNote4: "Article 23: Notice compensation equals one month's salary and is calculated based on the last wage received by the worker.",
                legalNote5: "Article 59: Overtime pay equals 125% of the worker's regular wage, and 150% when working on official holidays or religious occasions.",
                legalNote6: "Article 25: In case of arbitrary dismissal for indefinite-term employment contracts, the worker is entitled to notice compensation plus half a month's wage for each year of service, not less than two months' wages.",
                legalNote7: "Article 26: In case of arbitrary dismissal for definite-term employment contracts, the worker is entitled to the wages for the remaining contract period.",
                legalNote8: "Labor rights are calculated for the last two years from the date of termination of employment with the employer, except for the end-of-service reward, which is calculated for the entire service period.",
                legalNotice: "Notice: This calculator is for guidance only and is not binding on any party. It is always recommended to consult a specialized authority for accurate results.",
                printResults: "Print Results",
                createdBy: "Created by: Lawyer Mohammed Al-Shouha",
                lawReference: "This calculator was created according to Jordanian Labor Law No. 8 of 1996 and its amendments",
                copyright: "All rights reserved © 2023 - This page is protected by copyright and intellectual property laws",
                // Result translations
                unpaidSalaries: "Unpaid Salaries",
                vacationPay: "Vacation Pay",
                endOfService: "End of Service Compensation",
                noticeCompensation: "Notice Compensation",
                overtimePay: "Overtime Pay",
                holidayPay: "Holiday Pay",
                fridayPay: "Friday Pay",
                arbitraryDismissalComp: "Arbitrary Dismissal Compensation",
                total: "Total",
                dinar: "JD",
                noEndOfService: "The worker is not entitled to end-of-service compensation because they are subscribed to social security.",
                endOfServiceNote: "End-of-service compensation is calculated because the worker is not subscribed to social security.",
                noNoticeCompensation: "The worker is not entitled to notice compensation in the case of a definite-term contract.",
                noticeCompensationYes: "The worker deserves notice compensation.",
                noticeCompensationNo: "The worker does not deserve notice compensation.",
                arbitraryDismissalExplanation1: "Arbitrary dismissal compensation: Half a month for each year of service, not less than two months' wages",
                arbitraryDismissalExplanation2: "JD according to Article 25 of the Labor Law.",
                endOfServiceExplanation: "End of service compensation: One month for each year of service"
            }
        };

        let currentLanguage = 'ar';

        // Language switcher functionality
        document.addEventListener('DOMContentLoaded', function() {
            const langButtons = document.querySelectorAll('.lang-btn');
            
            langButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const lang = this.getAttribute('data-lang');
                    switchLanguage(lang);
                    
                    // Update active button
                    langButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Initialize particles
            particlesJS('particles-js', {
                particles: {
                    number: { value: 200, density: { enable: true, value_area: 800 } },
                    color: { value: "#d4af37" },
                    shape: { type: "circle", stroke: { width: 0, color: "#000000" }, polygon: { nb_sides: 5 } },
                    opacity: { value: 0.8, random: true },
                    size: { value: 2.5, random: true },
                    line_linked: { enable: true, distance: 120, color: "#d4af37", opacity: 0.4, width: 1 },
                    move: { enable: true, speed: 3, direction: "none", random: true, straight: false, out_mode: "out", bounce: false }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" }, resize: true },
                    modes: { grab: { distance: 400, line_linked: { opacity: 1 } }, bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 }, repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 8 }, remove: { particles_nb: 2 } }
                },
                retina_detect: true
            });
        });

        function switchLanguage(lang) {
            currentLanguage = lang;
            
            // Update HTML direction and class
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            document.body.className = lang === 'ar' ? '' : 'english';
            
            // Update all translatable elements
            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'SELECT') {
                        // For input placeholders
                        if (element.hasAttribute('placeholder')) {
                            element.setAttribute('placeholder', translations[lang][key]);
                        }
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });
            
            // Update option values in selects
            updateSelectOptions();
            
            // Recalculate if results are shown
            if (document.getElementById('resultSection').style.display === 'block') {
                calculateRights();
            }
        }

        function updateSelectOptions() {
            // Update wage type options
            const wageTypeSelect = document.getElementById('wageType');
            if (wageTypeSelect) {
                const options = wageTypeSelect.querySelectorAll('option');
                options[1].textContent = translations[currentLanguage]['dailyWage'];
                options[2].textContent = translations[currentLanguage]['monthlyWage'];
            }
            
            // Update contract type options
            const contractTypeSelect = document.getElementById('contractType');
            if (contractTypeSelect) {
                const options = contractTypeSelect.querySelectorAll('option');
                options[1].textContent = translations[currentLanguage]['indefiniteContract'];
                options[2].textContent = translations[currentLanguage]['definiteContract'];
            }
            
            // Update social security options
            const socialSecuritySelect = document.getElementById('socialSecurity');
            if (socialSecuritySelect) {
                const options = socialSecuritySelect.querySelectorAll('option');
                options[0].textContent = translations[currentLanguage]['yesSubscribed'];
                options[1].textContent = translations[currentLanguage]['notSubscribed'];
            }
            
            // Update termination type options
            const terminationTypeSelect = document.getElementById('terminationType');
            if (terminationTypeSelect) {
                const options = terminationTypeSelect.querySelectorAll('option');
                options[0].textContent = translations[currentLanguage]['mutualTermination'];
                options[1].textContent = translations[currentLanguage]['arbitraryIndefinite'];
                options[2].textContent = translations[currentLanguage]['arbitraryDefinite'];
            }
        }

        // Elements
        const form = document.getElementById('rightsCalculator');
        const contractTypeEl = document.getElementById('contractType');
        const contractDetailsEl = document.getElementById('contractDetails');
        const serviceNoteEl = document.getElementById('serviceNote');
        const noticeMonthGroup = document.getElementById('noticeMonthGroup');
        const noticeMonthEl = document.getElementById('noticeMonth');
        const terminationTypeEl = document.getElementById('terminationType');
        const arbitraryDismissalGroup = document.getElementById('arbitraryDismissalGroup');
        const arbitraryDismissalEl = document.getElementById('arbitraryDismissal');
        const resultSection = document.getElementById('resultSection');
        const resultContent = document.getElementById('resultContent');
        const resetBtn = document.getElementById('resetBtn');

        // Print button
        document.getElementById('printBtn').addEventListener('click', function() {
            window.print();
        });

        // Contract type change
        contractTypeEl.addEventListener('change', function() {
            if (this.value === 'definite') {
                contractDetailsEl.style.display = 'block';
                serviceNoteEl.style.display = 'block';
                noticeMonthGroup.classList.add('disabled');
                noticeMonthEl.checked = false;
                noticeMonthEl.disabled = true;
                terminationTypeEl.value = 'definite';
                arbitraryDismissalGroup.style.display = 'none';
                arbitraryDismissalEl.checked = false;
            } else {
                contractDetailsEl.style.display = 'none';
                serviceNoteEl.style.display = 'none';
                noticeMonthGroup.classList.remove('disabled');
                noticeMonthEl.disabled = false;
                terminationTypeEl.value = 'indefinite';
                updateArbitraryDismissalGroup();
            }
        });

        terminationTypeEl.addEventListener('change', updateArbitraryDismissalGroup);

        function updateArbitraryDismissalGroup() {
            const contractType = contractTypeEl.value;
            const terminationType = terminationTypeEl.value;
            if (contractType === 'indefinite' && terminationType === 'indefinite') {
                arbitraryDismissalGroup.style.display = 'flex';
            } else {
                arbitraryDismissalGroup.style.display = 'none';
                arbitraryDismissalEl.checked = false;
            }
        }

        // Enter navigation
        const focusable = Array.from(document.querySelectorAll('input, select'));
        focusable.forEach((field, idx) => field.addEventListener('keydown', function(e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                const next = focusable[idx + 1];
                if (next) next.focus();
            }
        }));

        // Submit
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            calculateRights();
        });

        // Reset
        resetBtn.addEventListener('click', function() {
            form.reset();
            resultSection.style.display = 'none';
            contractDetailsEl.style.display = 'none';
            serviceNoteEl.style.display = 'none';
            arbitraryDismissalGroup.style.display = 'none';
            arbitraryDismissalEl.checked = false;
            noticeMonthGroup.classList.remove('disabled');
            noticeMonthEl.disabled = false;
        });

        // Main calculation
        function calculateRights() {
            const wageType = document.getElementById('wageType').value;
            const lastWage = parseFloat(document.getElementById('lastWage').value) || 0;
            const contractType = contractTypeEl.value;
            const unpaidMonths = parseInt(document.getElementById('unpaidMonths').value) || 0;
            const unpaidDays = parseInt(document.getElementById('unpaidDays').value) || 0;
            const vacationDays = parseInt(document.getElementById('vacationDays').value) || 0;
            const serviceYears = parseInt(document.getElementById('serviceYears').value) || 0;
            const serviceMonths = parseInt(document.getElementById('serviceMonths').value) || 0;
            const serviceDays = parseInt(document.getElementById('serviceDays').value) || 0;
            const noticeMonth = noticeMonthEl.checked;
            const terminationType = terminationTypeEl.value;
            const socialSecurity = document.getElementById('socialSecurity').value;
            const overtimeHours = parseFloat(document.getElementById('overtimeHours').value) || 0;
            const overtimeDays = parseInt(document.getElementById('overtimeDays').value) || 0;
            const holidayDays = parseInt(document.getElementById('holidayDays').value) || 0;
            const fridayDays = parseInt(document.getElementById('fridayDays').value) || 0;
            const contractDuration = parseInt(document.getElementById('contractDuration').value) || 0;
            const workedMonths = parseInt(document.getElementById('workedMonths').value) || 0;
            const workedDays = parseInt(document.getElementById('workedDays').value) || 0;
            const arbitraryDismissal = arbitraryDismissalEl.checked;

            // Validation
            if (!wageType) {
                alert(currentLanguage === 'ar' ? "يرجى اختيار نوع الأجر" : "Please select wage type");
                document.getElementById('wageType').focus();
                return;
            }
            if (!contractType) {
                alert(currentLanguage === 'ar' ? "يرجى اختيار نوع العقد" : "Please select contract type");
                contractTypeEl.focus();
                return;
            }

            // Calculations
            const totalServiceMonths = (serviceYears * 12) + serviceMonths + (serviceDays / 30);
            const dailyWage = wageType === 'daily' ? lastWage : lastWage / 30;
            const monthlyWage = wageType === 'monthly' ? lastWage : lastWage * 30;
            const hourlyWage = dailyWage / 8;
            const unpaidSalaries = (unpaidMonths * monthlyWage) + (unpaidDays * dailyWage);
            const vacationPay = vacationDays * dailyWage;

            let endOfServiceCompensation = 0;
            let explanation = "";
            let socialSecurityNote = "";

            let arbitraryDismissalCompensation = 0;
            let arbitraryDismissalExplanation = "";

            // Arbitrary dismissal compensation (if applicable)
            if (arbitraryDismissal && contractType === 'indefinite' && terminationType === 'indefinite') {
                arbitraryDismissalCompensation = calculateArbitraryDismissalCompensation(monthlyWage, serviceYears, serviceMonths, serviceDays);
                arbitraryDismissalExplanation = getArbitraryDismissalExplanation(monthlyWage, serviceYears, serviceMonths, serviceDays, arbitraryDismissalCompensation);
            }

            // Social security handling
            if (socialSecurity === 'yes') {
                endOfServiceCompensation = 0;
                explanation = translations[currentLanguage]['noEndOfService'];
                socialSecurityNote = "";
            } else {
                endOfServiceCompensation = calculateEndOfServiceCompensation(monthlyWage, serviceYears, serviceMonths, serviceDays);
                explanation = getEndOfServiceExplanation(monthlyWage, serviceYears, serviceMonths, serviceDays, endOfServiceCompensation);
                socialSecurityNote = translations[currentLanguage]['endOfServiceNote'];
            }

            // Notice compensation
            let noticeCompensation = 0;
            let noticeExplanation = "";

            if (contractType === 'definite') {
                noticeCompensation = 0;
                noticeExplanation = translations[currentLanguage]['noNoticeCompensation'];
            } else {
                noticeCompensation = noticeMonth ? monthlyWage : 0;
                noticeExplanation = noticeMonth ? translations[currentLanguage]['noticeCompensationYes'] : translations[currentLanguage]['noticeCompensationNo'];
            }

            // Overtime and holidays
            const overtimePay = (overtimeHours * hourlyWage * 1.25) * overtimeDays;
            const holidayPay = holidayDays * dailyWage * 1.5;
            const fridayPay = fridayDays * dailyWage * 1.5;

            // Total
            const totalCompensation = unpaidSalaries + vacationPay + endOfServiceCompensation +
                noticeCompensation + overtimePay + holidayPay + fridayPay + arbitraryDismissalCompensation;

            // Render results
            let html = `
                <div class="result-item"><span>${translations[currentLanguage]['unpaidSalaries']}:</span><span>${unpaidSalaries.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['vacationPay']}:</span><span>${vacationPay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['endOfService']}:</span><span>${endOfServiceCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['noticeCompensation']}:</span><span>${noticeCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['overtimePay']}:</span><span>${overtimePay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['holidayPay']}:</span><span>${holidayPay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['fridayPay']}:</span><span>${fridayPay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
            `;
            if (arbitraryDismissalCompensation > 0) {
                html += `<div class="result-item"><span>${translations[currentLanguage]['arbitraryDismissalComp']}:</span><span>${arbitraryDismissalCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            }
            html += `<div class="result-item"><span>${translations[currentLanguage]['total']}:</span><span>${totalCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            html += `<div class="result-note">${explanation}</div>`;
            html += `<div class="result-note">${noticeExplanation}</div>`;
            if (arbitraryDismissalExplanation) html += `<div class="result-note">${arbitraryDismissalExplanation}</div>`;
            if (socialSecurityNote) html += `<div class="result-note">${socialSecurityNote}</div>`;

            resultContent.innerHTML = html;
            resultSection.style.display = 'block';
            // Scroll to results
            window.scrollTo({ top: resultSection.offsetTop - 10, behavior: 'smooth' });
        }

        // Helper functions
        function calculateArbitraryDismissalCompensation(monthlyWage, years, months, days) {
            const totalMonths = years + (months / 12) + (days / 360);
            let compensation = (totalMonths / 2) * monthlyWage;
            if (compensation < monthlyWage * 2) compensation = monthlyWage * 2;
            return compensation;
        }

        function getArbitraryDismissalExplanation(monthlyWage, years, months, days, compensation) {
            const totalMonths = years + (months / 12) + (days / 360);
            const baseCompensation = (totalMonths / 2) * monthlyWage;
            if (baseCompensation < monthlyWage * 2) {
                return `${translations[currentLanguage]['arbitraryDismissalExplanation1']} (${(monthlyWage * 2).toFixed(2)} ${translations[currentLanguage]['arbitraryDismissalExplanation2']}`;
            } else {
                return `${translations[currentLanguage]['arbitraryDismissalExplanation1']} (${baseCompensation.toFixed(2)} ${translations[currentLanguage]['arbitraryDismissalExplanation2']}`;
            }
        }

        function calculateEndOfServiceCompensation(monthlyWage, years, months, days) {
            const totalMonths = years + (months / 12) + (days / 360);
            return totalMonths * monthlyWage;
        }

        function getEndOfServiceExplanation(monthlyWage, years, months, days, compensation) {
            return `${translations[currentLanguage]['endOfServiceExplanation']} (${years} ${translations[currentLanguage]['years']} ${months} ${translations[currentLanguage]['months']} ${days} ${translations[currentLanguage]['days']}) = ${compensation.toFixed(2)} ${translations[currentLanguage]['dinar']}.`;
        }
    </script>
</body>
</html>
