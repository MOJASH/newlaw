<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>ุญุงุณุจุฉ ุงูุญููู ุงูุนูุงููุฉ - ูุงููู ุงูุนูู ุงูุฃุฑุฏูู</title>
    <style>
        :root{
            --primary-color:#0d1b5e;
            --secondary-color:#f8f9fa;
            --accent-color:#d4af37;
            --text-color:#333;
            --border-color:#ddd;
            --gold-light:#d4af37;
            --gold-very-light: rgba(212,175,55,0.95);
            --gold-watermark: rgba(212,175,55,0.12);
            --blue-light:#e8f4fd;
            --gold-bg: rgba(212,175,55,0.15); /* ููู ุฐูุจู ุดูุงู ููุฎูููุงุช */
        }
        *{box-sizing:border-box;margin:0;padding:0;font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;}
        body{background-color:#f5f7fa;color:var(--text-color);line-height:1.6;min-height:100vh;overflow-x:hidden;}
        #particles-js{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;background:linear-gradient(45deg,#0d1b5e,#1a237e,#283593,#303f9f);background-size:400% 400%;animation:gradientBG 15s ease infinite;}
        @keyframes gradientBG{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        .container{max-width:1200px;margin:0 auto;padding:15px;position:relative;z-index:1}

        /* TOP BAR */
        .top-bar {
            display:flex;
            align-items:center;
            gap:12px;
            margin-bottom:8px;
            padding:6px 4px;
        }
        .creator-info{
            font-size:12px;
            color:var(--gold-very-light);
            opacity:0.95;
            white-space:nowrap;
            margin-right:auto;
            text-align:center;
            width:100%;
        }

        header{background:linear-gradient(135deg,var(--primary-color),#1a237e);color:white;padding:18px;border-radius:8px 8px 0 0;text-align:center;box-shadow:0 4px 12px rgba(0,0,0,0.12);margin-bottom:15px;border-bottom:3px solid var(--accent-color);position:relative;overflow:visible}
        h1{margin-bottom:6px;font-size:22px;color:white}
        .header-subtitle{font-size:14px;margin-bottom:6px;color:var(--gold-light)}
        .header-instruction{font-size:12px;opacity:0.9;color:var(--gold-light)}

/* WATERMARK (small, thin, centered under title) */
.header-watermark{
    position:absolute;
    left:50%;
    transform:translateX(-50%);
    bottom:10px; /* just under title area */
    font-size:11px;
    color:var(--gold-watermark);
    font-weight:300;
    pointer-events:none;
    user-select:none;
    letter-spacing:0.2px;
}

/* LANG CIRCLE BUTTON (inside header, top-right) */
.lang-circle {
    position:absolute;
    top:10px;
    right:12px;
    width:40px;
    height:40px;
    border-radius:50%;
    background:var(--primary-color); /* ุชุบููุฑ ุงูุฎูููุฉ ูู ุงูุฐูุจู ุฅูู ุงูุฃุฒุฑู */
    display:flex;
    align-items:center;
    justify-content:center;
    color:white; /* ุชุบููุฑ ููู ุงููุต ุฅูู ุงูุฃุจูุถ */
    cursor:pointer;
    box-shadow:0 2px 6px rgba(0,0,0,0.18);
    z-index:5;
    font-weight:700;
    font-size:18px;
    line-height:1;
    border: 1px solid rgba(255,255,255,0.2); /* ุฅุถุงูุฉ ุญุฏูุฏ ุฎูููุฉ */
}

/* Language menu that stays visible until user toggles again */
.lang-menu {
    position:absolute;
    top:56px;
    right:12px;
    min-width:110px;
    background:white;
    border-radius:6px;
    box-shadow:0 6px 18px rgba(0,0,0,0.12);
    overflow:hidden;
    z-index:6;
    display:none; /* toggled via JS */
    direction: ltr; /* keep menu items LTR so text appears normal */
}

.lang-menu button {
    display:block;
    width:100%;
    padding:10px 12px;
    border:none;
    background:transparent;
    text-align:left;
    font-size:14px;
    cursor:pointer;
    color:var(--primary-color);
}

.lang-menu button:hover { background: #f6f6f6; }

/* ===== ุจุงูู ุงูุชูุณูู ===== */
.form-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:15px;margin-bottom:15px}
.form-section{background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.1);border-right:3px solid var(--accent-color)}
h2{color:var(--primary-color);margin-bottom:12px;padding-bottom:8px;border-bottom:2px solid var(--accent-color);font-size:16px}
.input-group{margin-bottom:12px}
label{display:block;margin-bottom:4px;font-weight:bold;font-size:13px;color:var(--primary-color)}
input,select{width:100%;padding:8px;border:1px solid var(--border-color);border-radius:4px;font-size:14px;transition:border-color .3s}
input:focus,select:focus{border-color:var(--accent-color);outline:none;box-shadow:0 0 0 2px rgba(212,175,55,0.12)}
.compact-row{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.compact-row-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
.service-duration-group{display:flex;gap:10px}
.service-duration-group .input-group{flex:1}
.checkbox-group{display:flex;align-items:center;margin-bottom:8px}
.checkbox-group input{width:auto;margin-left:8px}
.checkbox-group.disabled{opacity:0.6;pointer-events:none}
.contract-details{display:none;background-color:var(--blue-light);padding:12px;border-radius:4px;margin-top:8px;border-right:4px solid var(--primary-color);font-size:13px}
.service-note{background-color:var(--gold-bg);color:#b8860b;padding:10px;border-radius:4px;margin-top:10px;border-right:4px solid var(--accent-color);font-size:12px;display:none}
button{background:linear-gradient(135deg,var(--primary-color),#1a237e);Color:white;border:none;padding:10px 15px;font-size:16px;border-radius:4px;cursor:pointer;width:100%;transition:all .3s;margin-bottom:8px;font-weight:bold}
button:hover{background:linear-gradient(135deg,#1a237e,var(--primary-color));transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,0.2)}
.reset-btn{background:linear-gradient(135deg,#6c757d,#5a6268)}
.reset-btn:hover{background:linear-gradient(135deg,#5a6268,#6c757d)}
.result-section{background-color:white;padding:15px;border-radius:8px;box-shadow:0 2px 5px rgba(0,0,0,0.1);margin-top:15px;display:none;border-right:3px solid var(--accent-color)}
.result-item{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid var(--border-color);font-size:14px}
.result-item:last-child{border-bottom:none;font-weight:bold;font-size:16px;color:var(--primary-color);background-color:var(--gold-light);padding:10px;border-radius:4px;margin-top:5px}
.annual-leave-details{background-color:var(--blue-light);padding:12px;border-radius:4px;margin-top:8px;border-right:4px solid var(--primary-color);font-size:13px}
.footer{text-align:center;margin-top:20px;padding:15px;background:linear-gradient(135deg,var(--primary-color),#1a237e);color:white;border-radius:8px;font-size:13px;border-top:3px solid var(--accent-color)}
.copyright{font-size:11px;margin-top:8px;opacity:0.8;color:var(--gold-light)}
.law-reference{font-size:12px;margin-top:4px;color:var(--gold-light)}
.action-buttons{display:flex;gap:8px;margin-top:15px}
.action-buttons button{flex:1;font-size:14px}
.print-btn{background:linear-gradient(135deg,var(--accent-color),#b8941f);color:#333;font-weight:bold}
.print-btn:hover{background:linear-gradient(135deg,#b8941f,var(--accent-color))}
.result-note{background-color:var(--blue-light);padding:8px;border-radius:4px;margin-top:4px;border-right:4px solid var(--primary-color);font-size:11px;color:#555}
.legal-notice{background-color:#ffebee;border:2px solid #f44336;color:#c62828;padding:10px;border-radius:4px;margin-top:15px;text-align:center;font-size:11px;line-height:1.5;font-weight:bold}
.legal-notes{background-color:var(--secondary-color);border:1px solid #ddd;padding:12px;border-radius:4px;margin-top:15px;font-size:10px;line-height:1.4;color:#555}
.legal-notes h3{color:var(--primary-color);margin-bottom:8px;font-size:12px;text-align:center;border-bottom:1px solid var(--accent-color);padding-bottom:5px}
.legal-notes ul{list-style:none;padding:0;margin:0}
.legal-notes li{margin-bottom:6px;padding-right:5px;border-right:2px solid var(--primary-color)}

/* ุชูุณูู ุฎุงุต ูุฒุฑ ุงุญุณุจ ุงููุณุชุญูุงุช */
button[type="submit"] {
  background: linear-gradient(135deg, var(--primary-color), #1a237e);
  color: white;
  border: 2px solid var(--accent-color); /* ุฅุทุงุฑ ุฐูุจู */
  box-shadow: 0 0 6px rgba(212,175,55,0.5); /* ุชููุฌ ุฐูุจู ุฎููู */
}
button[type="submit"]:hover {
  background: linear-gradient(135deg, #1a237e, var(--primary-color));
  transform: translateY(-2px);
  box-shadow: 0 0 12px rgba(212,175,55,0.7);
}

@media (max-width:768px){
    .container{padding:10px}
    .form-grid{grid-template-columns:1fr}
    .form-section{padding:12px}
    .service-duration-group{flex-direction:column}
    .action-buttons{flex-direction:column}
    .compact-row,.compact-row-3{grid-template-columns:1fr}
    .lang-circle{top:8px;right:10px;width:36px;height:36px;font-size:16px}
    .lang-menu{top:50px;right:10px;min-width:100px}
    .creator-info{text-align:center;margin-right:0;}
    .header-watermark{font-size:10px; bottom:8px;}
}

@media print{
    #particles-js,button,.legal-notice,.footer{display:none!important}
    .form-section,.result-section{box-shadow:none;border:1px solid #ddd}
    body{background-color:white}
}

/* English Language Styles */
body.english {
    direction: ltr;
    font-family: Arial, sans-serif;
}
body.english .form-section {
    border-right: none;
    border-left: 3px solid var(--accent-color);
}
body.english .contract-details,
body.english .service-note,
body.english .result-note,
body.english .legal-notes li {
    border-right: none;
    border-left: 4px solid var(--primary-color);
}
body.english .checkbox-group input {
    margin-left: 0;
    margin-right: 8px;
}

/* ุฅุถุงูุฉ ุชูุณูู ููุญููู ุงููุญุณูุจุฉ ุชููุงุฆูุงู */
.calculated-field {
    background-color: #f9f9f9;
    color: #666;
}

/* ุชูุณูู ูููููุฉ ุงููููุฒุฉ ุจุงูููู ุงูุฃุญูุฑ */
.red-text {
    color: red;
}

/* ุชูุณูู ูุญููู ุงูุนูู ุงูุฅุถุงูู */
.overtime-fields {
    display: none;
}

/* ุชูุณูู ููุญููู ุงููุนุทูุฉ */
input:disabled {
    background-color: #f5f5f5;
    color: #999;
    cursor: not-allowed;
}

/* ุชูุณูู ุฎุงุต ูุฎุงูุฉ ุงูุงุฎุชูุงุฑ ูู ูุณู ุงูุนูู ุงูุฅุถุงูู */
.overtime-checkbox-group {
    margin-top: 8px;
    margin-bottom: 12px;
}
    
/* Manual overtime note styling */
.manual-note {
    background-color: var(--blue-light);
    border-right: 4px solid var(--primary-color);
    padding: 6px 8px;
    margin-top: 6px;
    border-radius: 4px;
    font-size: 12px;
    display: none;
}

/* ุชูุณูู ุฎูุงุฑุงุช ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ */
.extra-salaries-options {
    background-color: white; /* ุชุบููุฑ ูู ุงูุฃุฒุฑู ุงููุงุชุญ ุฅูู ุงูุฃุจูุถ */
    padding: 12px;
    border-radius: 4px;
    margin-top: 8px;
    border-right: 4px solid var(--primary-color);
}

/* ุชูุณูู ุฎูููุฉ ููุงุญุธุฉ ูุฑู ุงูุฃุฌูุฑ */
.wage-diff-note {
    background-color: var(--gold-bg) !important;
    color: #b8860b;
    border-right: 4px solid var(--accent-color);
}

/* ุชูุณูู ูุณู ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู */
.savings-balance-group {
    display: none;
    background-color: white; /* ุชุบููุฑ ูู ุงูุฃุฒุฑู ุงููุงุชุญ ุฅูู ุงูุฃุจูุถ */
    padding: 12px;
    border-radius: 4px;
    margin-top: 8px;
    border-right: 4px solid var(--primary-color);
}
</style>
</head>
<body>
    <div id="particles-js"></div>

    <div class="container">
        <!-- TOP BAR: creator info (language single button moved into header) -->
        <div class="top-bar">
            <div class="creator-info" data-translate="creatorInfo">ุฃูุดุฆุช ุจูุงุณุทุฉ: ุงููุญุงูู ูุญูุฏ ุงูุดูุญู</div>
        </div>

        <header>
            <h1 data-translate="pageTitle">ุญุงุณุจุฉ ุงูุญููู ุงูุนูุงููุฉ</h1>
            <p class="header-subtitle" data-translate="pageSubtitle">ุจูุงุกู ุนูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู</p>
            <p class="header-instruction" data-translate="pageInstruction">ุฃุฏุฎู ูุนูููุงุชู ูุญุณุงุจ ูุณุชุญูุงุชู</p>

            <!-- language circle button -->
            <div class="lang-circle" id="langToggle" aria-label="language toggle">๐</div>

            <!-- language menu (stays visible until toggled) -->
            <div class="lang-menu" id="langMenu" role="menu" aria-hidden="true">
                <button data-lang="ar">ุงูุนุฑุจูุฉ</button>
                <button data-lang="en">English</button>
            </div>

            <!-- watermark text under the title -->
            <div class="header-watermark" aria-hidden="true">ุฃูุดุฆุช ุจูุงุณุทุฉ: ุงููุญุงูู ูุญูุฏ ุงูุดูุญู</div>
        </header>

        <form id="rightsCalculator">
            <div class="form-grid">
                <div class="form-section">
                    <h2 data-translate="wageInfo">ูุนูููุงุช ุงูุฃุฌุฑ</h2>
                    <div class="input-group">
                        <label for="wageType" data-translate="wageType">ููุน ุงูุฃุฌุฑ</label>
                        <select id="wageType" tabindex="1">
                            <option value="">-- <span data-translate="chooseWageType">ุงุฎุชุฑ ููุน ุงูุฃุฌุฑ</span> --</option>
                            <option value="daily" data-translate="dailyWage">ุฃุฌุฑ ูููู</option>
                            <option value="monthly" data-translate="monthlyWage">ุฃุฌุฑ ุดูุฑู</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="lastWage" data-translate="lastSalary">ุงูุฑุงุชุจ ุงูุฃุฎูุฑ (ุฏููุงุฑ)</label>
                        <input type="number" id="lastWage" min="0" step="any" required tabindex="2">
                    </div>

                    <!-- NEW: wage difference checkbox and agreed wage field -->
                    <div class="checkbox-group" style="margin-top:8px;">
                        <input type="checkbox" id="wageDiffCheckbox" tabindex="3">
                        <label for="wageDiffCheckbox" data-translate="wageDiffCheckboxLabel">ููุฌุฏ ูุฑู ุจูู ุงูุฑุงุชุจ ุงููุณุชูู ูุงููุชูู ุนููู ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ</label>
                    </div>

                    <div class="input-group" id="agreedWageGroup" style="display:none;">
                        <label for="agreedWage" data-translate="agreedWageLabel">ุงูุฑุงุชุจ ุงููุชูู ุนููู ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ (ุฏููุงุฑ)</label>
                        <input type="number" id="agreedWage" min="0" step="any" tabindex="4">
                        <div class="result-note wage-diff-note" id="wageDiffNote" style="margin-top:8px;display:none;">
                            <span data-translate="wageDiffNote">ุณุชูุญุชุณุจ ุงููุณุชุญูุงุช ุนูู ุงูุฑุงุชุจ ุงููุชูู ุนููู (ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ)ุ ูุณููุถุงู ุจูุฏ "ูุฑู ุงูุฃุฌูุฑ ุงููุณุชุญูุฉ" ุนู ุขุฎุฑ ุณูุชูู ูู ุงูุฎุฏูุฉ.</span>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="dueSalaries">ุงูุฑูุงุชุจ ุงููุณุชุญูุฉ</h2>
                    <div class="input-group">
                        <label for="contractType" data-translate="contractType">ููุน ุงูุนูุฏ</label>
                        <select id="contractType" tabindex="5">
                            <option value="">-- <span data-translate="chooseContractType">ุงุฎุชุฑ ููุน ุงูุนูุฏ</span> --</option>
                            <option value="indefinite" data-translate="indefiniteContract">ุนูุฏ ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ</option>
                            <option value="definite" data-translate="definiteContract">ุนูุฏ ูุญุฏุฏ ุงููุฏุฉ</option>
                        </select>
                    </div>

                    <div class="contract-details" id="contractDetails">
                        <h3 data-translate="definiteContractDetails">ุชูุงุตูู ุงูุนูุฏ ุงููุญุฏุฏ ุงููุฏุฉ</h3>
                        <div class="compact-row-3">
                            <div class="input-group">
                                <label for="contractDuration" data-translate="contractDuration">ูุฏุฉ ุงูุนูุฏ (ุฃุดูุฑ)</label>
                                <input type="number" id="contractDuration" min="1" step="1" tabindex="6">
                            </div>
                            <div class="input-group">
                                <label for="workedMonths" data-translate="workedMonths">ุงูุฃุดูุฑ ุงูุชู ุนููุชูุง</label>
                                <input type="number" id="workedMonths" min="0" step="1" tabindex="7">
                            </div>
                            <div class="input-group">
                                <label for="workedDays" data-translate="workedDays">ุงูุฃูุงู ุงูุชู ุนููุชูุง</label>
                                <input type="number" id="workedDays" min="0" max="30" step="1" tabindex="8">
                            </div>
                        </div>
                    </div>

                    <div class="compact-row">
                        <div class="input-group">
                            <label for="unpaidMonths" data-translate="unpaidMonths">ุฃุดูุฑ ูุณุชุญูุฉ</label>
                            <input type="number" id="unpaidMonths" min="0" step="1" tabindex="9">
                        </div>
                        <div class="input-group">
                            <label for="unpaidDays" data-translate="unpaidDays">ุฃูุงู ูุณุชุญูุฉ</label>
                            <input type="number" id="unpaidDays" min="0" step="1" tabindex="10">
                        </div>
                    </div>

                    <!-- ุงูุญูู ุงูุฌุฏูุฏ ูููุฏููุนุงุช ุบูุฑ ุงููุณุชููุฉ ุฎุงุฑุฌ ูุฏุฉ ุงูุนูุฏ -->
                    <div class="input-group" id="extraUnpaidMonthsGroup" style="display: none;">
                        <label for="extraUnpaidMonths" data-translate="extraUnpaidMonths">ุฃุดูุฑ ุฅุถุงููุฉ ูุณุชุญูุฉ</label>
                        <input type="number" id="extraUnpaidMonths" min="0" step="1" tabindex="11">
                    </div>
                    
                    <!-- ุฅุถุงูุฉ ุฎูุงุฑุงุช ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ -->
                    <div class="checkbox-group" id="extraSalariesGroup">
                        <input type="checkbox" id="extraSalariesCheckbox" tabindex="33">
                        <label for="extraSalariesCheckbox" data-translate="extraSalariesCheckboxLabel">ูู ููุฌุฏ ุฑุงุชุจ ุซุงูุซ ุนุดุฑ ุฃู ุฑุงุจุน ุนุดุฑ ุฃู ุฃูุซุฑุ</label>
                    </div>

                    <div class="extra-salaries-options" id="extraSalariesOptions" style="display:none;">
                        <div class="compact-row">
                            <div class="checkbox-group">
                                <input type="checkbox" id="thirteenthSalary" tabindex="34">
                                <label for="thirteenthSalary" data-translate="thirteenthSalary">ุงูุฑุงุชุจ ุงูุซุงูุซ ุนุดุฑ</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="fourteenthSalary" tabindex="35">
                                <label for="fourteenthSalary" data-translate="fourteenthSalary">ุงูุฑุงุชุจ ุงูุฑุงุจุน ุนุดุฑ</label>
                            </div>
                        </div>
                        <div class="compact-row">
                            <div class="checkbox-group">
                                <input type="checkbox" id="fifteenthSalary" tabindex="36">
                                <label for="fifteenthSalary" data-translate="fifteenthSalary">ุงูุฑุงุชุจ ุงูุฎุงูุณ ุนุดุฑ</label>
                            </div>
                            <div class="checkbox-group">
                                <input type="checkbox" id="sixteenthSalary" tabindex="37">
                                <label for="sixteenthSalary" data-translate="sixteenthSalary">ุงูุฑุงุชุจ ุงูุณุงุฏุณ ุนุดุฑ</label>
                            </div>
                        </div>
                    </div>

                    <!-- ุฅุถุงูุฉ ุฎูุงุฑ ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู -->
                    <div class="checkbox-group" style="margin-top: 12px;">
                        <input type="checkbox" id="savingsBalanceCheckbox" tabindex="38">
                        <label for="savingsBalanceCheckbox" data-translate="savingsBalanceCheckboxLabel">ูู ููุฌุฏ ุฑุตูุฏ ุงุฏุฎุงุฑูุ</label>
                    </div>

                    <div class="savings-balance-group" id="savingsBalanceGroup">
                        <div class="input-group">
                            <label for="savingsBalance" data-translate="savingsBalanceLabel">ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู (ุฏููุงุฑ)</label>
                            <input type="number" id="savingsBalance" min="0" step="any" tabindex="39">
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="serviceDuration">ูุฏุฉ ุงูุฎุฏูุฉ</h2>
                    <div class="service-duration-group">
                        <div class="input-group">
                            <label for="serviceYears" data-translate="years">ุงูุณููุงุช</label>
                            <input type="number" id="serviceYears" min="0" step="1" tabindex="12">
                        </div>
                        <div class="input-group">
                            <label for="serviceMonths" data-translate="months">ุงูุฃุดูุฑ</label>
                            <input type="number" id="serviceMonths" min="0" max="11" step="1" tabindex="13">
                        </div>
                        <div class="input-group">
                            <label for="serviceDays" data-translate="days">ุงูุฃูุงู</label>
                            <input type="number" id="serviceDays" min="0" max="30" step="1" tabindex="14">
                        </div>
                    </div>

                    <!-- ุงูุญููู ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ -->
                    <div class="checkbox-group" id="extraVacationGroup">
                        <input type="checkbox" id="extraVacationAgreed" tabindex="15">
                        <label for="extraVacationAgreed" data-translate="extraVacationAgreed">ูู ููุฌุฏ ุฅุฌุงุฒุงุช ุฅุถุงููุฉ ูุชูู ุนูููุงุ</label>
                    </div>

                    <div class="input-group">
                        <label for="totalVacationLastTwoYears" data-translate="totalVacationLastTwoYears">ูุฌููุน ุงูุฅุฌุงุฒุงุช ุนู ุขุฎุฑ ุณูุชูู</label>
                        <input type="number" id="totalVacationLastTwoYears" readonly tabindex="16">
                    </div>

                    <div class="input-group">
                        <label for="takenVacationDays" data-translate="takenVacationDays">ุงูุฅุฌุงุฒุงุช ุงูุชู ุญุตู ุนูููุง ุงูุนุงูู</label>
                        <input type="number" id="takenVacationDays" min="0" step="1" tabindex="17" required>
                    </div>

                    <div class="input-group">
                        <label for="vacationDays" data-translate="vacationDays">ุฃูุงู ุฅุฌุงุฒุงุช ูุณุชุญูุฉ</label>
                        <input type="number" id="vacationDays" readonly tabindex="18">
                    </div>

                    <div class="service-note" id="serviceNote">
                        <strong data-translate="note">ููุงุญุธุฉ:</strong> <span data-translate="serviceNoteText">ูุชู ุงุณุชุฎุฏุงู ูุฏุฉ ุงูุฎุฏูุฉ ูุงุญุชุณุงุจ ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ ูู ุญุงู ุนุฏู ุงุดุชุฑุงู ุงูุนุงูู ุจุงูุถูุงู ุงูุงุฌุชูุงุนู</span>
                    </div>
                </div>

                <div class="form-section">
                    <h2 data-translate="terminationDetails">ุชูุงุตูู ุฅููุงุก ุงูุฎุฏูุฉ</h2>
                    <div class="checkbox-group" id="noticeMonthGroup">
                        <input type="checkbox" id="noticeMonth" tabindex="19">
                        <label for="noticeMonth" data-translate="deservesNoticeMonth">ูุณุชุญู ุจุฏู ุดูุฑ ุงูุฅุดุนุงุฑ</label>
                    </div>

                    <div class="input-group">
                        <label for="socialSecurity" data-translate="socialSecurity">ุงูุถูุงู ุงูุงุฌุชูุงุนู</label>
                        <select id="socialSecurity" tabindex="20">
                            <option value="yes" data-translate="yesSubscribed">ูุนู - ูุดุชุฑู</option>
                            <option value="no" data-translate="notSubscribed">ูุง - ุบูุฑ ูุดุชุฑู</option>
                        </select>
                    </div>

                    <div class="input-group">
                        <label for="terminationType" data-translate="terminationReason">ุณุจุจ ุฅููุงุก ุงูุฎุฏูุฉ</label>
                        <select id="terminationType" tabindex="21">
                            <option value="mutual" data-translate="mutualTermination">ุฅููุงุก ุจุฑุถุง ุงูุทุฑููู</option>
                            <option value="indefinite" data-translate="arbitraryIndefinite">ูุตู ุชุนุณูู (ุนูุฏ ุบูุฑ ูุญุฏุฏ)</option>
                            <option value="definite" data-translate="arbitraryDefinite">ูุตู ุชุนุณูู (ุนูุฏ ูุญุฏุฏ)</option>
                        </select>
                    </div>

                    <div class="checkbox-group" id="arbitraryDismissalGroup" style="display:none">
                        <input type="checkbox" id="arbitraryDismissal" tabindex="22">
                        <label for="arbitraryDismissal" data-translate="deservesArbitraryDismissal">ูุณุชุญู ุจุฏู ูุตู ุชุนุณูู</label>
                    </div>
                </div>

                <!-- ูุณู ุงูุนูู ุงูุฅุถุงูู ุงููุญุฏุซ -->
                
                <div class="form-section">
                    <h2 data-translate="overtimeWork">ุงูุนูู ุงูุฅุถุงูู</h2>

                    <!-- ุงูุชุดูู ุจููุณ moved to be the first control in the section -->
                    <div class="checkbox-group overtime-checkbox-group" style="margin-bottom:8px;">
                        <input type="checkbox" id="manualOvertimeInput" tabindex="26">
                        <label for="manualOvertimeInput" data-translate="manualOvertimeInput" style="margin-right:6px;">ุฃุฑูุฏ ุฅุฏุฎุงู ุนุฏุฏ ุงูุณุงุนุงุช ุงูุดูุฑูุฉ ูุฏูููุง</label>
                    </div>

                    <div class="manual-note" id="manualNote" style="display:none;">
                        <span data-translate="manualNoteText">ุชู ุชูุนูู ุงูุฅุฏุฎุงู ุงููุฏููุ ููููู ุฅุฏุฎุงู ุนุฏุฏ ุงูุณุงุนุงุช ุงูุดูุฑูุฉ ูุจุงุดุฑุฉ.</span>
                    </div>

                    <div id="autoOvertimeFields">
                        <div class="compact-row">
                            <div class="input-group">
                                <label for="overtimeHoursPerDay" data-translate="overtimeHoursPerDay">ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ูู ุงูููู</label>
                                <input type="number" id="overtimeHoursPerDay" min="0" step="0.5" tabindex="23">
                            </div>
                            <div class="input-group">
                                <label for="overtimeDaysPerMonth" data-translate="overtimeDaysPerMonth">ุนุฏุฏ ุฃูุงู ุงูุนูู ุงูุฅุถุงูู ูู ุงูุดูุฑ</label>
                                <input type="number" id="overtimeDaysPerMonth" min="0" step="1" tabindex="24">
                            </div>
                        </div>
                    </div>

                    <div class="compact-row">
                        <div class="input-group">
                            <label for="overtimeHoursPerMonth" data-translate="overtimeHoursPerMonth">ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ูู ุงูุดูุฑ</label>
                            <input type="number" id="overtimeHoursPerMonth" min="0" step="any" tabindex="25" disabled>
                        </div>

                        <div class="input-group" style="display:flex;align-items:center;">
                            <!-- kept for layout parity but checkbox moved above -->
                        </div>

                        <div class="input-group">
                            <label for="overtimeMonths" data-translate="overtimeMonths">ุนุฏุฏ ุงูุฃุดูุฑ ุงูุชู ุงุณุชูุฑ ูููุง ุงูุนูู ุงูุฅุถุงูู</label>
                            <input type="number" id="overtimeMonths" min="0" step="1" tabindex="27">
                        </div>
                    </div>

                    <!-- ุงูุญูู ุงูุฌุฏูุฏ: ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงููููุฉ -->
                    <div class="input-group">
                        <label for="totalOvertimeHours" data-translate="totalOvertimeHours">ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงููููุฉ</label>
                        <input type="number" id="totalOvertimeHours" readonly tabindex="28">
                    </div>
                </div>
                <div class="form-section">
                    <h2 data-translate="holidayWork">ุงูุนูู ูู ุงูุนุทู ูุงูุฃุนูุงุฏ</h2>
                    <div class="compact-row">
                        <div class="input-group">
                            <label for="holidayDays" data-translate="holidayDays">ุฃูุงู ุงูุนุทู ุงูุฑุณููุฉ</label>
                            <input type="number" id="holidayDays" min="0" step="1" tabindex="29">
                        </div>
                        <div class="input-group">
                            <label for="fridayDays" data-translate="fridayDays">ุฃูุงู ุงูุฌูุนุฉ</label>
                            <input type="number" id="fridayDays" min="0" step="1" tabindex="30">
                        </div>
                    </div>
                </div>
            </div>

            <div class="action-buttons">
                <button type="submit" tabindex="31" data-translate="calculateRights">ุงุญุณุจ ุงููุณุชุญูุงุช</button>
                <button type="button" class="reset-btn" id="resetBtn" tabindex="32" data-translate="resetFields">ุชูุฑูุบ ุงูุญููู</button>
            </div>
        </form>

        <div class="result-section" id="resultSection">
            <h2 data-translate="calculationResults">ูุชุงุฆุฌ ุญุณุงุจ ุงููุณุชุญูุงุช</h2>
            <div id="resultContent"></div>

            <div class="legal-notes" id="legalNotes">
                <h3 data-translate="legalNotes">ููุงุญุธุงุช ูุงููููุฉ</h3>
                <ul>
                    <li data-translate="legalNote1">ู46: ุงูุฃุฌุฑ ููุฏูุน ุฎูุงู 7 ุฃูุงู ูู ุงุณุชุญูุงููุ ููุง ูุฌูุฑ ุญุณูู ุฅูุง ููู ุงููุงููู.</li>
                    <li data-translate="legalNote2">ู61: ููุนุงูู ุฅุฌุงุฒุฉ ุณูููุฉ 14 ููููุงุ ูุชุตุจุญ 21 ููููุง ุจุนุฏ 5 ุณููุงุช ุฎุฏูุฉ ูุชุตูุฉ ูุฏู ุตุงุญุจ ุงูุนูู.</li>
                    <li data-translate="legalNote3">ู32: ูุณุชุญู ุงูุนุงูู ุงูุฐู ูุง ูุฎุถุน ูุฃุญูุงู ุงูุถูุงู ุงูุงุฌุชูุงุนู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุชุณุงูู ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ.</li>
                    <li data-translate="legalNote4">ู23: ุจุฏู ุงูุฅุดุนุงุฑ ูุณุงูู ุฑุงุชุจ ุดูุฑ ูุงุญุฏ ููุญุชุณุจ ุจูุงุกู ุนูู ุขุฎุฑ ุฃุฌุฑ ุชูุงุถุงู ุงูุนุงูู.</li>
                    <li data-translate="legalNote5">ู59: ุฃุฌุฑ ุงูุนูู ุงูุฅุถุงูู ูุณุงูู 125% ูู ุฃุฌุฑ ุงูุนุงูู ุงููุนุชุงุฏุ ู150% ุนูุฏ ุงูุนูู ุจุงูุนุทู ุงูุฑุณููุฉ ุฃู ุงูุฃุนูุงุฏ ุงูุฏูููุฉ.</li>
                    <li data-translate="legalNote6">ู25: ูู ุญุงูุฉ ุงููุตู ุงูุชุนุณูู ูุนููุฏ ุงูุนูู ุบูุฑ ูุญุฏุฏุฉ ุงููุฏุฉ ูุฅู ุงูุนุงูู ูุณุชุญู ุจุฏู ุฅุดุนุงุฑ ุจุงูุฅุถุงูุฉ ุฅูู ุฃุฌุฑ ูุตู ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ ุจูุง ูุง ููู ุนู ุฃุฌุฑ ุดูุฑูู.</li>
                    <li data-translate="legalNote7">ู26: ูู ุญุงูุฉ ุงููุตู ุงูุชุนุณูู ูุนููุฏ ุงูุนูู ูุญุฏุฏุฉ ุงููุฏุฉ ูุฅู ุงูุนุงูู ูุณุชุญู ุฃุฌุฑ ุจุงูู ุงููุฏุฉ ุงูุนูุฏูุฉ.</li>
                    <li data-translate="legalNote8">ูุชู ุงุญุชุณุงุจ ุงูุญููู ุงูุนูุงููุฉ ุนู ุขุฎุฑ ุณูุชูู ูู ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนูู ูุฏู ุตุงุญุจ ุงูุนูู ุจุงุณุชุซูุงุก ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูุฅููุง ุชุญุชุณุจ ุนู ุทููุฉ ูุฏุฉ ุงูุฎุฏูุฉ.</li>
                </ul>
            </div>

            <div class="legal-notice" data-translate="legalNotice">ุชูุจูู: ูุฐู ุงูุญุงุณุจุฉ ูู ุฃุฏุงุฉ ุฅุฑุดุงุฏูุฉ ููุทุ ููู ุบูุฑ ููุฒูุฉ ูุฃู ุฌูุฉ. ููุตู ุฏุงุฆูุงู ุจุงุณุชุดุงุฑุฉ ุฌูุฉ ูุฎุชุตุฉ ููุญุตูู ุนูู ูุชุงุฆุฌ ุฏูููุฉ.</div>

            <div class="action-buttons">
                <button type="button" class="print-btn" id="printBtn" data-translate="printResults">ุทุจุงุนุฉ ุงููุชุงุฆุฌ</button>
            </div>
        </div>

        <div class="footer">
            <p data-translate="createdBy">ุชู ุฅูุดุงุก ูุฐู ุงูุตูุญุฉ ุจูุงุณุทุฉ ุงููุญุงูู ูุญูุฏ ุงูุดูุญู</p>
            <p class="law-reference" data-translate="lawReference">ุชู ุฅูุดุงุก ูุฐู ุงูุญุงุณุจุฉ ูููุงู ููุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู</p>
            <p class="copyright" data-translate="copyright">ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2023 - ูุฐู ุงูุตูุญุฉ ูุญููุฉ ุจููุฌุจ ููุงููู ุญููู ุงููุดุฑ ูุงูููููุฉ ุงูููุฑูุฉ</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>

    <script>
        // Translations (Arabic and full English included) - extended with new keys
        const translations = {
            ar: {
                creatorInfo: "ุฃูุดุฆุช ุจูุงุณุทุฉ: ุงููุญุงูู ูุญูุฏ ุงูุดูุญู",
                pageTitle: "ุญุงุณุจุฉ ุงูุญููู ุงูุนูุงููุฉ",
                pageSubtitle: "ุจูุงุกู ุนูู ูุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู",
                pageInstruction: "ุฃุฏุฎู ูุนูููุงุชู ูุญุณุงุจ ูุณุชุญูุงุชู",
                wageInfo: "ูุนูููุงุช ุงูุฃุฌุฑ",
                wageType: "ููุน ุงูุฃุฌุฑ",
                chooseWageType: "ุงุฎุชุฑ ููุน ุงูุฃุฌุฑ",
                dailyWage: "ุฃุฌุฑ ูููู",
                monthlyWage: "ุฃุฌุฑ ุดูุฑู",
                lastSalary: "ุงูุฑุงุชุจ ุงูุฃุฎูุฑ (ุฏููุงุฑ)",
                wageDiffCheckboxLabel: "ููุฌุฏ ูุฑู ุจูู ุงูุฑุงุชุจ ุงููุณุชูู ูุงููุชูู ุนููู ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ",
                agreedWageLabel: "ุงูุฑุงุชุจ ุงููุชูู ุนููู ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ (ุฏููุงุฑ)",
                wageDiffNote: "ุณุชูุญุชุณุจ ุงููุณุชุญูุงุช ุนูู ุงูุฑุงุชุจ ุงููุชูู ุนููู (ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ)ุ ูุณููุถุงู ุจูุฏ \"ูุฑู ุงูุฃุฌูุฑ ุงููุณุชุญูุฉ\" ุนู ุขุฎุฑ ุณูุชูู ูู ุงูุฎุฏูุฉ.",
                dueSalaries: "ุงูุฑูุงุชุจ ุงููุณุชุญูุฉ",
                contractType: "ููุน ุงูุนูุฏ",
                chooseContractType: "ุงุฎุชุฑ ููุน ุงูุนูุฏ",
                indefiniteContract: "ุนูุฏ ุบูุฑ ูุญุฏุฏ ุงููุฏุฉ",
                definiteContract: "ุนูุฏ ูุญุฏุฏ ุงููุฏุฉ",
                definiteContractDetails: "ุชูุงุตูู ุงูุนูุฏ ุงููุญุฏุฏ ุงููุฏุฉ",
                contractDuration: "ูุฏุฉ ุงูุนูุฏ (ุฃุดูุฑ)",
                workedMonths: "ุงูุฃุดูุฑ ุงูุชู ุนููุชูุง",
                workedDays: "ุงูุฃูุงู ุงูุชู ุนููุชูุง",
                unpaidMonths: "ุฃุดูุฑ ูุณุชุญูุฉ",
                unpaidDays: "ุฃูุงู ูุณุชุญูุฉ",
                extraUnpaidMonths: "ุฃุดูุฑ ุฅุถุงููุฉ ูุณุชุญูุฉ",
                vacationDays: "ุฃูุงู ุฅุฌุงุฒุงุช ูุณุชุญูุฉ",
                serviceDuration: "ูุฏุฉ ุงูุฎุฏูุฉ",
                years: "ุงูุณููุงุช",
                months: "ุงูุฃุดูุฑ",
                days: "ุงูุฃูุงู",
                note: "ููุงุญุธุฉ:",
                serviceNoteText: "ูุชู ุงุณุชุฎุฏุงู ูุฏุฉ ุงูุฎุฏูุฉ ูุงุญุชุณุงุจ ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ ูู ุญุงู ุนุฏู ุงุดุชุฑุงู ุงูุนุงูู ุจุงูุถูุงู ุงูุงุฌุชูุงุนู",
                terminationDetails: "ุชูุงุตูู ุฅููุงุก ุงูุฎุฏูุฉ",
                deservesNoticeMonth: "ูุณุชุญู ุจุฏู ุดูุฑ ุงูุฅุดุนุงุฑ",
                socialSecurity: "ุงูุถูุงู ุงูุงุฌุชูุงุนู",
                yesSubscribed: "ูุนู - ูุดุชุฑู",
                notSubscribed: "ูุง - ุบูุฑ ูุดุชุฑู",
                terminationReason: "ุณุจุจ ุฅููุงุก ุงูุฎุฏูุฉ",
                mutualTermination: "ุฅููุงุก ุจุฑุถุง ุงูุทุฑููู",
                arbitraryIndefinite: "ูุตู ุชุนุณูู (ุนูุฏ ุบูุฑ ูุญุฏุฏ)",
                arbitraryDefinite: "ูุตู ุชุนุณูู (ุนูุฏ ูุญุฏุฏ)",
                deservesArbitraryDismissal: "ูุณุชุญู ุจุฏู ูุตู ุชุนุณูู",
                overtimeWork: "ุงูุนูู ุงูุฅุถุงูู",
                overtimeHoursPerDay: "ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ูู ุงูููู",
                overtimeDaysPerMonth: "ุนุฏุฏ ุฃูุงู ุงูุนูู ุงูุฅุถุงูู ูู ุงูุดูุฑ",
                overtimeHoursPerMonth: "ุนุฏุฏ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ูู ุงูุดูุฑ",
                overtimeMonths: "ุนุฏุฏ ุงูุฃุดูุฑ ุงูุชู ุงุณุชูุฑ ูููุง ุงูุนูู ุงูุฅุถุงูู",
                holidayWork: "ุงูุนูู ูู ุงูุนุทู ูุงูุฃุนูุงุฏ",
                holidayDays: "ุฃูุงู ุงูุนุทู ุงูุฑุณููุฉ",
                fridayDays: "ุฃูุงู ุงูุฌูุนุฉ",
                calculateRights: "ุงุญุณุจ ุงููุณุชุญูุงุช",
                resetFields: "ุชูุฑูุบ ุงูุญููู",
                calculationResults: "ูุชุงุฆุฌ ุญุณุงุจ ุงููุณุชุญูุงุช",
                legalNotes: "ููุงุญุธุงุช ูุงููููุฉ",
                legalNote1: "ู46: ุงูุฃุฌุฑ ููุฏูุน ุฎูุงู 7 ุฃูุงู ูู ุงุณุชุญูุงููุ ููุง ูุฌูุฑ ุญุณูู ุฅูุง ููู ุงููุงููู.",
                legalNote2: "ู61: ููุนุงูู ุฅุฌุงุฒุฉ ุณูููุฉ 14 ููููุงุ ูุชุตุจุญ 21 ููููุง ุจุนุฏ 5 ุณููุงุช ุฎุฏูุฉ ูุชุตูุฉ ูุฏู ุตุงุญุจ ุงูุนูู.",
                legalNote3: "ู32: ูุณุชุญู ุงูุนุงูู ุงูุฐู ูุง ูุฎุถุน ูุฃุญูุงู ุงูุถูุงู ุงูุงุฌุชูุงุนู ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ุชุณุงูู ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ.",
                legalNote4: "ู23: ุจุฏู ุงูุฅุดุนุงุฑ ูุณุงูู ุฑุงุชุจ ุดูุฑ ูุงุญุฏ ููุญุชุณุจ ุจูุงุกู ุนูู ุขุฎุฑ ุฃุฌุฑ ุชูุงุถุงู ุงูุนุงูู.",
                legalNote5: "ู59: ุฃุฌุฑ ุงูุนูู ุงูุฅุถุงูู ูุณุงูู 125% ูู ุฃุฌุฑ ุงูุนุงูู ุงููุนุชุงุฏุ ู150% ุนูุฏ ุงูุนูู ุจุงูุนุทู ุงูุฑุณููุฉ ุฃู ุงูุฃุนูุงุฏ ุงูุฏูููุฉ.",
                legalNote6: "ู25: ูู ุญุงูุฉ ุงููุตู ุงูุชุนุณูู ูุนููุฏ ุงูุนูู ุบูุฑ ูุญุฏุฏุฉ ุงููุฏุฉ ูุฅู ุงูุนุงูู ูุณุชุญู ุจุฏู ุฅุดุนุงุฑ ุจุงูุฅุถุงูุฉ ุฅูู ุฃุฌุฑ ูุตู ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ ุจูุง ูุง ููู ุนู ุฃุฌุฑ ุดูุฑูู.",
                legalNote7: "ู26: ูู ุญุงูุฉ ุงููุตู ุงูุชุนุณูู ูุนููุฏ ุงูุนูู ูุญุฏุฏุฉ ุงููุฏุฉ ูุฅู ุงูุนุงูู ูุณุชุญู ุฃุฌุฑ ุจุงูู ุงููุฏุฉ ุงูุนูุฏูุฉ.",
                legalNote8: "ูุชู ุงุญุชุณุงุจ ุงูุญููู ุงูุนูุงููุฉ ุนู ุขุฎุฑ ุณูุชูู ูู ุชุงุฑูุฎ ุงูุชูุงุก ุงูุนูู ูุฏู ุตุงุญุจ ุงูุนูู ุจุงุณุชุซูุงุก ููุงูุฃุฉ ููุงูุฉ ุงูุฎุฏูุฉ ูุฅููุง ุชุญุชุณุจ ุนู ุทููุฉ ูุฏุฉ ุงูุฎุฏูุฉ.",
                legalNotice: "ุชูุจูู: ูุฐู ุงูุญุงุณุจุฉ ูู ุฃุฏุงุฉ ุฅุฑุดุงุฏูุฉ ููุทุ ููู ุบูุฑ ููุฒูุฉ ูุฃู ุฌูุฉ. ููุตู ุฏุงุฆูุงู ุจุงุณุชุดุงุฑุฉ ุฌูุฉ ูุฎุชุตุฉ ููุญุตูู ุนูู ูุชุงุฆุฌ ุฏูููุฉ.",
                printResults: "ุทุจุงุนุฉ ุงููุชุงุฆุฌ",
                createdBy: "ุชู ุฅูุดุงุก ูุฐู ุงูุตูุญุฉ ุจูุงุณุทุฉ ุงููุญุงูู ูุญูุฏ ุงูุดูุญู",
                lawReference: "ุชู ุฅูุดุงุก ูุฐู ุงูุญุงุณุจุฉ ูููุงู ููุงููู ุงูุนูู ุงูุฃุฑุฏูู ุฑูู 8 ูุณูุฉ 1996 ูุชุนุฏููุงุชู",
                copyright: "ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ 2023 - ูุฐู ุงูุตูุญุฉ ูุญููุฉ ุจููุฌุจ ููุงููู ุญููู ุงููุดุฑ ูุงูููููุฉ ุงูููุฑูุฉ",
                unpaidSalaries: "ุงูุฑูุงุชุจ ุงููุณุชุญูุฉ",
                vacationPay: "ุจุฏู ุงูุฅุฌุงุฒุงุช ุงููุณุชุญูุฉ",
                endOfService: "ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ",
                noticeCompensation: "ุจุฏู ุดูุฑ ุงูุฅุดุนุงุฑ",
                overtimePay: "ุจุฏู ุงูุนูู ุงูุฅุถุงูู",
                holidayPay: "ุจุฏู ุงูุนุทู ุงูุฑุณููุฉ",
                fridayPay: "ุจุฏู ุฃูุงู ุงูุฌูุนุฉ",
                arbitraryDismissalComp: "ุจุฏู ุงููุตู ุชุนุณูู",
                total: "ุงูุฅุฌูุงูู",
                dinar: "ุฏููุงุฑ",
                noEndOfService: "ูุง ูุณุชุญู ุงูุนุงูู ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ ูุฃูู ูุดุชุฑู ุจุงูุถูุงู ุงูุงุฌุชูุงุนู.",
                endOfServiceNote: "ูุชู ุงุญุชุณุงุจ ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ ูุฃู ุงูุนุงูู ุบูุฑ ูุดุชุฑู ุจุงูุถูุงู ุงูุงุฌุชูุงุนู.",
                noNoticeCompensation: "ูุง ูุณุชุญู ุงูุนุงูู ุจุฏู ุดูุฑ ุงูุฅุดุนุงุฑ ูู ุญุงูุฉ ุงูุนูุฏ ูุญุฏุฏ ุงููุฏุฉ.",
                noticeCompensationYes: "ูุณุชุญู ุงูุนุงูู ุจุฏู ุดูุฑ ุงูุฅุดุนุงุฑ.",
                noticeCompensationNo: "ูุง ูุณุชุญู ุงูุนุงูู ุจุฏู ุดูุฑ ุงูุฅุดุนุงุฑ.",
                arbitraryDismissalExplanation1: "ุจุฏู ุงููุตู ุงูุชุนุณูู: ูุตู ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ ุจูุง ูุง ููู ุนู ุฃุฌุฑ ุดูุฑูู",
                arbitraryDismissalExplanation2: "ุฏููุงุฑ ุญุณุจ ุงููุงุฏุฉ 25 ูู ูุงููู ุงูุนูู.",
                endOfServiceExplanation: "ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ: ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ",
                totalVacationLastTwoYears: "ูุฌููุน ุงูุฅุฌุงุฒุงุช ุนู ุขุฎุฑ ุณูุชูู",
                takenVacationDays: "ุงูุฅุฌุงุฒุงุช ุงูุชู ุญุตู ุนูููุง ุงูุนุงูู",
                vacationCalculationNote: "ูุชู ุญุณุงุจ ุงูุฅุฌุงุฒุงุช ุนู ุขุฎุฑ ุณูุชูู ููุท ูู ุงูุฎุฏูุฉ.",
                extraVacationAgreed: "ูู ููุฌุฏ ุฅุฌุงุฒุงุช ุฅุถุงููุฉ ูุชูู ุนูููุงุ",
                manualOvertimeInput: "ุฃุฑูุฏ ุฅุฏุฎุงู ุนุฏุฏ ุงูุณุงุนุงุช ุงูุดูุฑูุฉ ูุฏูููุง",
                totalOvertimeHours: "ุฅุฌูุงูู ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงููููุฉ",
                wageDifferenceLabel: "ูุฑู ุงูุฃุฌูุฑ ุงููุณุชุญูุฉ",
                wageDifferenceExplanation: "ูุฑู ุงูุฃุฌูุฑ = (ุงูุฑุงุชุจ ุงููุชูู ุนููู (ุฃู ุงูุญุฏ ุงูุฃุฏูู ููุฃุฌูุฑ) - ุงูุฑุงุชุจ ุงููุฏููุน) ร ูุฏุฉ ุงูุนูู ุงููุนููุฉ (ุจุงูุฃุดูุฑ).",
                wageUsedLabel: "ุงูุฑุงุชุจ ุงููุนุชูุฏ ููุญุณุงุจ",
                mutualTerminationNote: "ููุงุญุธุฉ: ูู ุญุงูุฉ ุฅููุงุก ุงูุนูุฏ ุจุฑุถุง ุงูุทุฑูููุ ูุง ูุณุชุญู ุงูุนุงูู ุฑูุงุชุจ ุนู ุงููุฏุฉ ุงููุชุจููุฉ ูู ุงูุนูุฏ ุงููุญุฏุฏ ุงููุฏุฉ.",
                wageDifferenceCalculation: "ุญุณุงุจ ูุฑู ุงูุฃุฌูุฑ: (${agreedWage} - ${lastWage}) ร ${totalServiceMonthsForDiff} ุฃุดูุฑ = ${wageDifferenceTotal} ุฏููุงุฑ",
                // ุฅุถุงูุฉ ุงูุชุฑุฌูุงุช ุงูุฌุฏูุฏุฉ ููุฑูุงุชุจ ุงูุฅุถุงููุฉ
                extraSalariesCheckboxLabel: "ูู ููุฌุฏ ุฑุงุชุจ ุซุงูุซ ุนุดุฑ ุฃู ุฑุงุจุน ุนุดุฑ ุฃู ุฃูุซุฑุ",
                thirteenthSalary: "ุงูุฑุงุชุจ ุงูุซุงูุซ ุนุดุฑ",
                fourteenthSalary: "ุงูุฑุงุชุจ ุงูุฑุงุจุน ุนุดุฑ",
                fifteenthSalary: "ุงูุฑุงุชุจ ุงูุฎุงูุณ ุนุดุฑ",
                sixteenthSalary: "ุงูุฑุงุชุจ ุงูุณุงุฏุณ ุนุดุฑ",
                extraSalariesTotal: "ูุฌููุน ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ",
                // ุฅุถุงูุฉ ุงูุชุฑุฌูุงุช ุงูุฌุฏูุฏุฉ ููุฑุตูุฏ ุงูุงุฏุฎุงุฑู
                savingsBalanceCheckboxLabel: "ูู ููุฌุฏ ุฑุตูุฏ ุงุฏุฎุงุฑูุ",
                savingsBalanceLabel: "ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู (ุฏููุงุฑ)",
                savingsBalance: "ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู"
            },
            en: {
                creatorInfo: "Created by: Lawyer Mohammed Al-Shouha",
                pageTitle: "Labor Rights Calculator",
                pageSubtitle: "Based on Jordanian Labor Law No. 8 of 1996 and its amendments",
                pageInstruction: "Enter your information to calculate your entitlements",
                wageInfo: "Wage information",
                wageType: "Wage type",
                chooseWageType: "Choose wage type",
                dailyWage: "Daily wage",
                monthlyWage: "Monthly wage",
                lastSalary: "Last wage (JOD)",
                wageDiffCheckboxLabel: "There is a difference between paid and agreed wage (or minimum wage)",
                agreedWageLabel: "Agreed wage in contract (JOD)",
                wageDiffNote: "Entitlements will be calculated on the agreed wage (or minimum wage); 'Wage difference' will be added for the last two years of service.",
                dueSalaries: "Due salaries",
                contractType: "Contract type",
                chooseContractType: "Choose contract type",
                indefiniteContract: "Indefinite contract",
                definiteContract: "Definite contract",
                definiteContractDetails: "Definite contract details",
                contractDuration: "Contract duration (months)",
                workedMonths: "Months worked",
                workedDays: "Days worked",
                unpaidMonths: "Unpaid months",
                unpaidDays: "Unpaid days",
                extraUnpaidMonths: "Extra unpaid months",
                vacationDays: "Due vacation days",
                serviceDuration: "Service duration",
                years: "Years",
                months: "Months",
                days: "Days",
                note: "Note:",
                serviceNoteText: "Service duration is used to calculate end-of-service pay if the worker is not covered by social security",
                terminationDetails: "Termination details",
                deservesNoticeMonth: "Entitled to one month's notice pay",
                socialSecurity: "Social security",
                yesSubscribed: "Yes - Subscribed",
                notSubscribed: "No - Not subscribed",
                terminationReason: "Reason for termination",
                mutualTermination: "Mutual termination",
                arbitraryIndefinite: "Arbitrary dismissal (indefinite)",
                arbitraryDefinite: "Arbitrary dismissal (definite)",
                deservesArbitraryDismissal: "Entitled to arbitrary dismissal compensation",
                overtimeWork: "Overtime work",
                overtimeHoursPerDay: "Overtime hours per day",
                overtimeDaysPerMonth: "Overtime days per month",
                overtimeHoursPerMonth: "Overtime hours per month",
                overtimeMonths: "Number of months overtime continued",
                holidayWork: "Work on holidays and public days",
                holidayDays: "Public holidays days",
                fridayDays: "Fridays worked",
                calculateRights: "Calculate entitlements",
                resetFields: "Reset fields",
                calculationResults: "Calculation results",
                legalNotes: "Legal notes",
                legalNote1: "Art.46: Wages are to be paid within 7 days of entitlement; deductions only as permitted by law.",
                legalNote2: "Art.61: Annual leave is 14 days, increasing to 21 days after 5 continuous years for the same employer.",
                legalNote3: "Art.32: A worker not covered by social security is entitled to end-of-service pay equal to one month per year of service.",
                legalNote4: "Art.23: Notice pay equals one month's wage and is based on the worker's last wage.",
                legalNote5: "Art.59: Overtime pay equals 125% of normal wage, and 150% for work on official holidays or religious festivals.",
                legalNote6: "Art.25: In arbitrary dismissal for indefinite contracts, the worker is entitled to notice pay plus half a month's wage per year of service, not less than two months' wage.",
                legalNote7: "Art.26: In arbitrary dismissal for definite contracts, the worker is entitled to the wage for the remainder of the contract.",
                legalNote8: "Rights are calculated over the last two years from termination date, except end-of-service pay which is calculated over the entire service.",
                legalNotice: "Note: This calculator is for guidance only and is not legally binding. Consult a specialist for exact results.",
                printResults: "Print results",
                createdBy: "This page was created by Lawyer Mohammed Al-Shouha",
                lawReference: "This calculator is based on Jordanian Labor Law No. 8 of 1996 and its amendments",
                copyright: "All rights reserved ยฉ 2023 - This page is protected by copyright and intellectual property laws",
                unpaidSalaries: "Unpaid salaries",
                vacationPay: "Vacation compensation",
                endOfService: "End of service compensation",
                noticeCompensation: "Notice compensation",
                overtimePay: "Overtime compensation",
                holidayPay: "Holiday compensation",
                fridayPay: "Friday compensation",
                arbitraryDismissalComp: "Arbitrary dismissal compensation",
                total: "Total",
                dinar: "JOD",
                noEndOfService: "No end-of-service compensation because the worker is subscribed to social security.",
                endOfServiceNote: "End-of-service compensation is calculated because the worker is not subscribed to social security.",
                noNoticeCompensation: "No notice compensation for definite-term contracts.",
                noticeCompensationYes: "Worker is entitled to one month's notice compensation.",
                noticeCompensationNo: "Worker is not entitled to one month's notice compensation.",
                arbitraryDismissalExplanation1: "Arbitrary dismissal compensation: half a month's wage per year of service, not less than two months' wage",
                arbitraryDismissalExplanation2: "JOD according to Article 25 of the Labor Law.",
                endOfServiceExplanation: "End-of-service compensation: one month per year of service",
                totalVacationLastTwoYears: "Total vacation over the last two years",
                takenVacationDays: "Vacation days taken by the worker",
                vacationCalculationNote: "Vacation is calculated for the last two years only.",
                extraVacationAgreed: "Is there additional agreed vacation?",
                manualOvertimeInput: "I want to enter monthly overtime hours manually",
                totalOvertimeHours: "Total overtime hours",
                wageDifferenceLabel: "Wage difference (due)",
                wageDifferenceExplanation: "Wage difference = (agreed wage (or minimum wage) - paid wage) ร actual service months.",
                wageUsedLabel: "Wage used for calculations",
                mutualTerminationNote: "Note: In case of mutual termination of a definite-term contract, the worker is not entitled to salaries for the remaining contract period.",
                wageDifferenceCalculation: "Wage difference calculation: (${agreedWage} - ${lastWage}) ร ${totalServiceMonthsForDiff} months = ${wageDifferenceTotal} JOD",
                // ุฅุถุงูุฉ ุงูุชุฑุฌูุงุช ุงูุฌุฏูุฏุฉ ููุฑูุงุชุจ ุงูุฅุถุงููุฉ
                extraSalariesCheckboxLabel: "Is there a thirteenth, fourteenth, or more salary?",
                thirteenthSalary: "Thirteenth Salary",
                fourteenthSalary: "Fourteenth Salary",
                fifteenthSalary: "Fifteenth Salary",
                sixteenthSalary: "Sixteenth Salary",
                extraSalariesTotal: "Total Extra Salaries",
                // ุฅุถุงูุฉ ุงูุชุฑุฌูุงุช ุงูุฌุฏูุฏุฉ ููุฑุตูุฏ ุงูุงุฏุฎุงุฑู
                savingsBalanceCheckboxLabel: "Is there a savings balance?",
                savingsBalanceLabel: "Savings Balance (JOD)",
                savingsBalance: "Savings Balance"
            }
        };

        let currentLanguage = 'ar';

        document.addEventListener('DOMContentLoaded', function() {
            const langToggle = document.getElementById('langToggle');
            const langMenu = document.getElementById('langMenu');
            const menuButtons = langMenu.querySelectorAll('button');

            langToggle.addEventListener('click', function(e) {
                e.stopPropagation();
                if (langMenu.style.display === 'block') {
                    langMenu.style.display = 'none';
                    langMenu.setAttribute('aria-hidden','true');
                } else {
                    langMenu.style.display = 'block';
                    langMenu.setAttribute('aria-hidden','false');
                }
            });

            menuButtons.forEach(btn => {
                btn.addEventListener('click', function(e) {
                    const lang = this.getAttribute('data-lang');
                    switchLanguage(lang);
                    langMenu.style.display = 'none';
                    langMenu.setAttribute('aria-hidden','true');
                });
            });

            if (window.particlesJS) {
                particlesJS('particles-js', {
                    particles: {
                        number: { value: 200, density: { enable: true, value_area: 800 } },
                        color: { value: "#d4af37" },
                        shape: { type: "circle", stroke: { width: 0, color: "#000000" }, polygon: { nb_sides: 5 } },
                        opacity: { value: 0.8, random: true },
                        size: { value: 2.5, random: true },
                        line_linked: { enable: true, distance: 120, color: "#d4af37", opacity: 0.4, width: 1 },
                        move: { enable: true, speed: 3, direction: "none", random: true, straight: false, out_mode: "out", bounce: false }
                    },
                    interactivity: {
                        detect_on: "canvas",
                        events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" }, resize: true },
                        modes: { grab: { distance: 400, line_linked: { opacity: 1 } }, bubble: { distance: 400, size: 40, duration: 2, opacity: 8, speed: 3 }, repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 8 }, remove: { particles_nb: 2 } }
                    },
                    retina_detect: true
                });
            }

            initFormBehavior();
            switchLanguage('ar');
            setupEnterNavigation();
        });

        function switchLanguage(lang) {
            currentLanguage = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            document.body.className = lang === 'ar' ? '' : 'english';

            document.querySelectorAll('[data-translate]').forEach(element => {
                const key = element.getAttribute('data-translate');
                if (translations[lang] && translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'SELECT') {
                        if (element.hasAttribute('placeholder')) {
                            element.setAttribute('placeholder', translations[lang][key]);
                        }
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            updateSelectOptions();
            if (document.getElementById('resultSection').style.display === 'block') {
                calculateRights();
            }
            setTimeout(setupEnterNavigation, 100);
        }

        function setupEnterNavigation() {
            const allFields = Array.from(document.querySelectorAll('input, select, button[type="button"]'));
            const focusableFields = allFields.filter(field => {
                return field.offsetWidth > 0 &&
                       field.offsetHeight > 0 &&
                       !field.disabled &&
                       field.type !== 'hidden' &&
                       field.style.display !== 'none';
            });

            focusableFields.forEach((field, index) => {
                field.removeEventListener('keydown', handleEnterKey);
                field.addEventListener('keydown', handleEnterKey);
                field.dataset.fieldIndex = index;
            });

            function handleEnterKey(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    const currentField = e.target;
                    const currentFocusableFields = Array.from(document.querySelectorAll('input, select, button[type="button"]')).filter(field => {
                        return field.offsetWidth > 0 &&
                               field.offsetHeight > 0 &&
                               !field.disabled &&
                               field.type !== 'hidden' &&
                               field.style.display !== 'none';
                    });
                    const currentIndex = currentFocusableFields.indexOf(currentField);
                    if (currentIndex === -1) return;
                    if (currentIndex === currentFocusableFields.length - 1) {
                        currentFocusableFields[0].focus();
                    } else {
                        currentFocusableFields[currentIndex + 1].focus();
                    }
                }
            }
        }

        function updateSelectOptions() {
            const wageTypeSelect = document.getElementById('wageType');
            if (wageTypeSelect) {
                const options = wageTypeSelect.querySelectorAll('option');
                options[1].textContent = translations[currentLanguage]['dailyWage'];
                options[2].textContent = translations[currentLanguage]['monthlyWage'];
            }
            const contractTypeSelect = document.getElementById('contractType');
            if (contractTypeSelect) {
                const options = contractTypeSelect.querySelectorAll('option');
                options[1].textContent = translations[currentLanguage]['indefiniteContract'];
                options[2].textContent = translations[currentLanguage]['definiteContract'];
            }
            const socialSecuritySelect = document.getElementById('socialSecurity');
            if (socialSecuritySelect) {
                const options = socialSecuritySelect.querySelectorAll('option');
                options[0].textContent = translations[currentLanguage]['yesSubscribed'];
                options[1].textContent = translations[currentLanguage]['notSubscribed'];
            }
            const terminationTypeSelect = document.getElementById('terminationType');
            if (terminationTypeSelect) {
                const options = terminationTypeSelect.querySelectorAll('option');
                options[0].textContent = translations[currentLanguage]['mutualTermination'];
                options[1].textContent = translations[currentLanguage]['arbitraryIndefinite'];
                options[2].textContent = translations[currentLanguage]['arbitraryDefinite'];
            }
        }

        function initFormBehavior() {
            const form = document.getElementById('rightsCalculator');
            const contractTypeEl = document.getElementById('contractType');
            const contractDetailsEl = document.getElementById('contractDetails');
            const serviceNoteEl = document.getElementById('serviceNote');
            const noticeMonthGroup = document.getElementById('noticeMonthGroup');
            const noticeMonthEl = document.getElementById('noticeMonth');
            const terminationTypeEl = document.getElementById('terminationType');
            const arbitraryDismissalGroup = document.getElementById('arbitraryDismissalGroup');
            const arbitraryDismissalEl = document.getElementById('arbitraryDismissal');
            const resultSection = document.getElementById('resultSection');
            const resultContent = document.getElementById('resultContent');
            const resetBtn = document.getElementById('resetBtn');
            const extraUnpaidMonthsGroup = document.getElementById('extraUnpaidMonthsGroup');
            const unpaidMonthsEl = document.getElementById('unpaidMonths');
            const unpaidDaysEl = document.getElementById('unpaidDays');

            // ุงูุญููู ุงูุฌุฏูุฏุฉ
            const serviceYearsEl = document.getElementById('serviceYears');
            const serviceMonthsEl = document.getElementById('serviceMonths');
            const serviceDaysEl = document.getElementById('serviceDays');
            const totalVacationLastTwoYearsEl = document.getElementById('totalVacationLastTwoYears');
            const takenVacationDaysEl = document.getElementById('takenVacationDays');
            const vacationDaysEl = document.getElementById('vacationDays');
            const extraVacationAgreedEl = document.getElementById('extraVacationAgreed');

            // ุญููู ุงูุนูู ุงูุฅุถุงูู ุงูุฌุฏูุฏุฉ
            const overtimeHoursPerDayEl = document.getElementById('overtimeHoursPerDay');
            const overtimeDaysPerMonthEl = document.getElementById('overtimeDaysPerMonth');
            const overtimeHoursPerMonthEl = document.getElementById('overtimeHoursPerMonth');
            const overtimeMonthsEl = document.getElementById('overtimeMonths');
            const totalOvertimeHoursEl = document.getElementById('totalOvertimeHours');

            // ุฎุงูุฉ ุงูุงุฎุชูุงุฑ ุงูุฌุฏูุฏุฉ ููุฅุฏุฎุงู ุงููุฏูู
            const manualOvertimeInputEl = document.getElementById('manualOvertimeInput');

            // Wage diff UI elements
            const wageDiffCheckbox = document.getElementById('wageDiffCheckbox');
            const agreedWageGroup = document.getElementById('agreedWageGroup');
            const agreedWageEl = document.getElementById('agreedWage');
            const wageDiffNoteEl = document.getElementById('wageDiffNote');

            // ุฅุถุงูุฉ ูุณุชูุนูู ููุญููู ุงูุฌุฏูุฏุฉ
            serviceYearsEl.addEventListener('input', calculateTotalVacation);
            serviceMonthsEl.addEventListener('input', calculateTotalVacation);
            serviceDaysEl.addEventListener('input', calculateTotalVacation);
            takenVacationDaysEl.addEventListener('input', calculateDueVacation);

            // ุฅุถุงูุฉ ูุณุชูุน ูุฎุงูุฉ ุงูุงุฎุชูุงุฑ ุงูุฌุฏูุฏุฉ
            extraVacationAgreedEl.addEventListener('change', function() {
                if (this.checked) {
                    totalVacationLastTwoYearsEl.value = '';
                    takenVacationDaysEl.value = '';
                    vacationDaysEl.value = '';
                    totalVacationLastTwoYearsEl.readOnly = false;
                } else {
                    totalVacationLastTwoYearsEl.readOnly = true;
                    calculateTotalVacation();
                }
                setTimeout(setupEnterNavigation, 100);
            });

            totalVacationLastTwoYearsEl.addEventListener('input', calculateDueVacation);

            ['contractDuration','workedMonths','workedDays'].forEach(id => {
                document.getElementById(id).addEventListener('input', updateUnpaidFieldsForDefiniteContract);
            });

            // ุฅุถุงูุงุช ุงูุนูู ุงูุฅุถุงูู
            overtimeHoursPerDayEl.addEventListener('input', calculateOvertimeHours);
            overtimeDaysPerMonthEl.addEventListener('input', calculateOvertimeHours);
            overtimeMonthsEl.addEventListener('input', calculateOvertimeHours);

            overtimeHoursPerDayEl.addEventListener('input', calculateTotalOvertimeHours);
            overtimeDaysPerMonthEl.addEventListener('input', calculateTotalOvertimeHours);
            overtimeMonthsEl.addEventListener('input', calculateTotalOvertimeHours);

            manualOvertimeInputEl.addEventListener('change', function() {
                if (this.checked) {
                    overtimeHoursPerMonthEl.disabled = false;
                    overtimeHoursPerMonthEl.focus();
                } else {
                    overtimeHoursPerMonthEl.disabled = true;
                    calculateOvertimeHours();
                }
                setTimeout(setupEnterNavigation, 100);
            });

            // ุฅุถุงูุฉ ูุณุชูุน ูุฎุงูุฉ ุงุฎุชูุงุฑ ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ
            const extraSalariesCheckbox = document.getElementById('extraSalariesCheckbox');
            const extraSalariesOptions = document.getElementById('extraSalariesOptions');
            
            extraSalariesCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    extraSalariesOptions.style.display = 'block';
                } else {
                    extraSalariesOptions.style.display = 'none';
                    // ุฅุนุงุฏุฉ ุชุนููู ุฌููุน ุฎูุงุฑุงุช ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ
                    document.getElementById('thirteenthSalary').checked = false;
                    document.getElementById('fourteenthSalary').checked = false;
                    document.getElementById('fifteenthSalary').checked = false;
                    document.getElementById('sixteenthSalary').checked = false;
                }
                setTimeout(setupEnterNavigation, 100);
            });

            // ุฅุถุงูุฉ ูุณุชูุน ูุฎุงูุฉ ุงุฎุชูุงุฑ ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู
            const savingsBalanceCheckbox = document.getElementById('savingsBalanceCheckbox');
            const savingsBalanceGroup = document.getElementById('savingsBalanceGroup');
            
            savingsBalanceCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    savingsBalanceGroup.style.display = 'block';
                    document.getElementById('savingsBalance').focus();
                } else {
                    savingsBalanceGroup.style.display = 'none';
                    document.getElementById('savingsBalance').value = '';
                }
                setTimeout(setupEnterNavigation, 100);
            });

            document.getElementById('printBtn').addEventListener('click', function() {
                window.print();
            });

            contractTypeEl.addEventListener('change', function() {
                if (this.value === 'definite') {
                    contractDetailsEl.style.display = 'block';
                    serviceNoteEl.style.display = 'block';
                    noticeMonthGroup.classList.add('disabled');
                    noticeMonthEl.checked = false;
                    noticeMonthEl.disabled = true;
                    terminationTypeEl.value = 'definite';
                    arbitraryDismissalGroup.style.display = 'none';
                    arbitraryDismissalEl.checked = false;
                    extraUnpaidMonthsGroup.style.display = 'block';

                    unpaidMonthsEl.readOnly = true;
                    unpaidDaysEl.readOnly = true;
                    unpaidMonthsEl.classList.add('calculated-field');
                    unpaidDaysEl.classList.add('calculated-field');

                    updateUnpaidFieldsForDefiniteContract();
                } else {
                    contractDetailsEl.style.display = 'none';
                    serviceNoteEl.style.display = 'none';
                    noticeMonthGroup.classList.remove('disabled');
                    noticeMonthEl.disabled = false;
                    terminationTypeEl.value = 'indefinite';
                    extraUnpaidMonthsGroup.style.display = 'none';

                    unpaidMonthsEl.readOnly = false;
                    unpaidDaysEl.readOnly = false;
                    unpaidMonthsEl.classList.remove('calculated-field');
                    unpaidDaysEl.classList.remove('calculated-field');

                    updateArbitraryDismissalGroup();
                }
                setTimeout(setupEnterNavigation, 100);
            });

            terminationTypeEl.addEventListener('change', updateArbitraryDismissalGroup);

            function updateArbitraryDismissalGroup() {
                const contractType = contractTypeEl.value;
                const terminationType = terminationTypeEl.value;
                if (contractType === 'indefinite' && terminationType === 'indefinite') {
                    arbitraryDismissalGroup.style.display = 'flex';
                } else {
                    arbitraryDismissalGroup.style.display = 'none';
                    arbitraryDismissalEl.checked = false;
                }
                setTimeout(setupEnterNavigation, 100);
            }

            // Wage diff checkbox behavior
            wageDiffCheckbox.addEventListener('change', function() {
                if (this.checked) {
                    agreedWageGroup.style.display = 'block';
                    wageDiffNoteEl.style.display = 'block';
                    agreedWageEl.focus();
                } else {
                    agreedWageGroup.style.display = 'none';
                    wageDiffNoteEl.style.display = 'none';
                    agreedWageEl.value = '';
                }
                setTimeout(setupEnterNavigation, 100);
            });

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                calculateRights();
            });

            resetBtn.addEventListener('click', function() {
                form.reset();
                resultSection.style.display = 'none';
                contractDetailsEl.style.display = 'none';
                serviceNoteEl.style.display = 'none';
                arbitraryDismissalGroup.style.display = 'none';
                arbitraryDismissalEl.checked = false;
                extraUnpaidMonthsGroup.style.display = 'none';
                noticeMonthGroup.classList.remove('disabled');
                noticeMonthEl.disabled = false;
                totalVacationLastTwoYearsEl.value = '';
                totalVacationLastTwoYearsEl.readOnly = true;
                vacationDaysEl.value = '';
                extraVacationAgreedEl.checked = false;
                unpaidMonthsEl.readOnly = false;
                unpaidDaysEl.readOnly = false;
                unpaidMonthsEl.classList.remove('calculated-field');
                unpaidDaysEl.classList.remove('calculated-field');
                manualOvertimeInputEl.checked = false;
                overtimeHoursPerMonthEl.disabled = true;
                totalOvertimeHoursEl.value = '';
                // wage diff reset
                agreedWageGroup.style.display = 'none';
                wageDiffNoteEl.style.display = 'none';
                // ุฅุนุงุฏุฉ ุชุนููู ุฎูุงุฑุงุช ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ
                extraSalariesCheckbox.checked = false;
                extraSalariesOptions.style.display = 'none';
                document.getElementById('thirteenthSalary').checked = false;
                document.getElementById('fourteenthSalary').checked = false;
                document.getElementById('fifteenthSalary').checked = false;
                document.getElementById('sixteenthSalary').checked = false;
                // ุฅุนุงุฏุฉ ุชุนููู ุฎูุงุฑ ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู
                savingsBalanceCheckbox.checked = false;
                savingsBalanceGroup.style.display = 'none';
                calculateTotalVacation();
                setTimeout(setupEnterNavigation, 100);
            });
        }

        
            // ======= ุนูู ุงูุชุนุฏููุงุช ุงูุฎุงุตุฉ ุจุงูุนูู ุงูุฅุถุงูู (ููู ุงูุงุฎุชูุงุฑ ุฅูู ุงูุฃุนููุ ุฅุฏุฎุงู ูุฏูู ููุฃุดูุฑ=1 ุงูุชุฑุงุถู) =======
            const manualOvertimeInputEl = document.getElementById('manualOvertimeInput');
            const overtimeHoursPerMonthEl = document.getElementById('overtimeHoursPerMonth');
            const autoOvertimeFieldsEl = document.getElementById('autoOvertimeFields');
            const manualNoteEl = document.getElementById('manualNote');

            // Initialize state
            overtimeHoursPerMonthEl.disabled = true;
            manualNoteEl.style.display = 'none';

            manualOvertimeInputEl.addEventListener('change', function() {
                if (this.checked) {
                    // Hide auto fields, enable monthly input
                    autoOvertimeFieldsEl.style.display = 'none';
                    overtimeHoursPerMonthEl.disabled = false;
                    overtimeHoursPerMonthEl.focus();
                    manualNoteEl.style.display = 'block';
                } else {
                    autoOvertimeFieldsEl.style.display = 'block';
                    overtimeHoursPerMonthEl.disabled = true;
                    overtimeHoursPerMonthEl.value = '';
                    manualNoteEl.style.display = 'none';
                }
                setTimeout(setupEnterNavigation, 100);
                calculateTotalOvertimeHours();
            });

            // Replaced calculation functions: unified to respect manual mode and treat months empty/0 as 1
            function calculateOvertimeHours() {
                // If monthly input is disabled, calculate from per-day * days-per-month
                const overtimeHoursPerDay = parseFloat(document.getElementById('overtimeHoursPerDay').value) || 0;
                const overtimeDaysPerMonth = parseInt(document.getElementById('overtimeDaysPerMonth').value) || 0;
                const overtimeHoursPerMonthElLocal = document.getElementById('overtimeHoursPerMonth');
                if (overtimeHoursPerMonthElLocal.disabled) {
                    const calculatedHours = overtimeHoursPerDay * overtimeDaysPerMonth;
                    overtimeHoursPerMonthElLocal.value = calculatedHours > 0 ? calculatedHours : '';
                }
                calculateTotalOvertimeHours();
            }

            function calculateTotalOvertimeHours() {
    const overtimeHoursPerDay = parseFloat(document.getElementById('overtimeHoursPerDay').value) || 0;
    const overtimeDaysPerMonth = parseInt(document.getElementById('overtimeDaysPerMonth').value) || 0;
    let overtimeMonths = parseInt(document.getElementById('overtimeMonths').value);

    // ููุทู ุฌุฏูุฏ: ุฅุฐุง ูุงูุช ูุงุฑุบุฉ ุฃู 0 ุฃู 1 => ุชุนุชุจุฑ 1
    if (!overtimeMonths || overtimeMonths <= 1) {
        overtimeMonths = 1;
    }

    const monthlyManual = parseFloat(document.getElementById('overtimeHoursPerMonth').value) || 0;
    let total = 0;

    if (manualOvertimeInputEl.checked && monthlyManual > 0) {
        total = monthlyManual * overtimeMonths;
    } else {
        total = overtimeHoursPerDay * overtimeDaysPerMonth * overtimeMonths;
    }

    document.getElementById('totalOvertimeHours').value = total > 0 ? total : '';
}

            // Attach listeners (ensure we don't duplicate if already attached)
            ['overtimeHoursPerDay','overtimeDaysPerMonth','overtimeHoursPerMonth','overtimeMonths'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.removeEventListener('input', calculateOvertimeHours);
                    el.removeEventListener('input', calculateTotalOvertimeHours);
                    el.addEventListener('input', () => {
                        calculateOvertimeHours();
                        calculateTotalOvertimeHours();
                    });
                }
            });


        function calculateTotalVacation() {
            const extraVacationAgreed = document.getElementById('extraVacationAgreed').checked;
            if (extraVacationAgreed) {
                return;
            }
            const serviceYears = parseInt(document.getElementById('serviceYears').value) || 0;
            const serviceMonths = parseInt(document.getElementById('serviceMonths').value) || 0;
            const serviceDays = parseInt(document.getElementById('serviceDays').value) || 0;
            const totalServiceMonths = serviceYears * 12 + serviceMonths + (serviceDays / 30);
            const annualLeaveDays = totalServiceMonths >= 60 ? 21 : 14;
            const vacationPerMonth = annualLeaveDays / 12;
            const totalVacation = Math.min(totalServiceMonths, 24) * vacationPerMonth;
            document.getElementById('totalVacationLastTwoYears').value = Math.round(totalVacation);
            calculateDueVacation();
        }

        function calculateDueVacation() {
            const totalVacation = parseInt(document.getElementById('totalVacationLastTwoYears').value) || 0;
            const takenVacation = parseInt(document.getElementById('takenVacationDays').value) || 0;
            const dueVacation = Math.max(0, totalVacation - takenVacation);
            document.getElementById('vacationDays').value = dueVacation;
        }

        function updateUnpaidFieldsForDefiniteContract() {
            const contractType = document.getElementById('contractType').value;
            if (contractType !== 'definite') return;
            const contractDuration = parseInt(document.getElementById('contractDuration').value) || 0;
            const workedMonths = parseInt(document.getElementById('workedMonths').value) || 0;
            const workedDays = parseInt(document.getElementById('workedDays').value) || 0;
            const totalContractDays = contractDuration * 30;
            const totalWorkedDays = (workedMonths * 30) + workedDays;
            const differenceInDays = totalContractDays - totalWorkedDays;
            const unpaidMonths = Math.floor(differenceInDays / 30);
            const unpaidDays = differenceInDays % 30;
            document.getElementById('unpaidMonths').value = Math.max(0, unpaidMonths);
            document.getElementById('unpaidDays').value = Math.max(0, unpaidDays);
        }

        function calculateRights() {
            const wageType = document.getElementById('wageType').value;
            const lastWage = parseFloat(document.getElementById('lastWage').value) || 0;
            const wageDiffChecked = document.getElementById('wageDiffCheckbox').checked;
            const agreedWage = parseFloat(document.getElementById('agreedWage').value) || 0;

            const contractType = document.getElementById('contractType').value;
            const unpaidMonths = parseInt(document.getElementById('unpaidMonths').value) || 0;
            const unpaidDays = parseInt(document.getElementById('unpaidDays').value) || 0;
            const extraUnpaidMonths = parseInt(document.getElementById('extraUnpaidMonths').value) || 0;
            const vacationDays = parseInt(document.getElementById('vacationDays').value) || 0;
            const serviceYears = parseInt(document.getElementById('serviceYears').value) || 0;
            const serviceMonths = parseInt(document.getElementById('serviceMonths').value) || 0;
            const serviceDays = parseInt(document.getElementById('serviceDays').value) || 0;
            const noticeMonth = document.getElementById('noticeMonth').checked;
            const terminationType = document.getElementById('terminationType').value;
            const socialSecurity = document.getElementById('socialSecurity').value;
            const overtimeHoursPerDay = parseFloat(document.getElementById('overtimeHoursPerDay').value) || 0;
            const overtimeDaysPerMonth = parseInt(document.getElementById('overtimeDaysPerMonth').value) || 0;
            const overtimeHoursPerMonth = parseFloat(document.getElementById('overtimeHoursPerMonth').value) || 0;
            
            // ุงูุชุนุฏูู ุงูุฑุฆูุณู: ุฅุฐุง ูุงูุช ุงููููุฉ ูุงุฑุบุฉ ุฃู 0 ุฃู 1ุ ูุนุชุจุฑูุง 1
            let overtimeMonths = parseInt(document.getElementById('overtimeMonths').value);
            if (!overtimeMonths || overtimeMonths <= 1) {
                overtimeMonths = 1;
            }
            
            const holidayDays = parseInt(document.getElementById('holidayDays').value) || 0;
            const fridayDays = parseInt(document.getElementById('fridayDays').value) || 0;
            const contractDuration = parseInt(document.getElementById('contractDuration').value) || 0;
            const workedMonths = parseInt(document.getElementById('workedMonths').value) || 0;
            const workedDays = parseInt(document.getElementById('workedDays').value) || 0;
            const arbitraryDismissal = document.getElementById('arbitraryDismissal').checked;
            const extraVacationAgreed = document.getElementById('extraVacationAgreed').checked;
            const manualOvertimeInput = document.getElementById('manualOvertimeInput').checked;

            // ุฅุถุงูุฉ ุฎูุงุฑุงุช ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ
            const extraSalariesChecked = document.getElementById('extraSalariesCheckbox').checked;
            const thirteenthSalary = document.getElementById('thirteenthSalary').checked;
            const fourteenthSalary = document.getElementById('fourteenthSalary').checked;
            const fifteenthSalary = document.getElementById('fifteenthSalary').checked;
            const sixteenthSalary = document.getElementById('sixteenthSalary').checked;

            // ุฅุถุงูุฉ ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู
            const savingsBalanceChecked = document.getElementById('savingsBalanceCheckbox').checked;
            const savingsBalance = parseFloat(document.getElementById('savingsBalance').value) || 0;

            if (!wageType) {
                alert(currentLanguage === 'ar' ? "ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงูุฃุฌุฑ" : "Please select wage type");
                document.getElementById('wageType').focus();
                return;
            }
            if (!contractType) {
                alert(currentLanguage === 'ar' ? "ูุฑุฌู ุงุฎุชูุงุฑ ููุน ุงูุนูุฏ" : "Please select contract type");
                document.getElementById('contractType').focus();
                return;
            }

            // ูุฏุฉ ุงูุฎุฏูุฉ ุจุงูุดููุฑ (ูุฏ ุชูุณุชุฎุฏู ุงุญุชูุงุทุงู)
            const totalServiceMonths = (serviceYears * 12) + serviceMonths + (serviceDays / 30);

            // ---------- Wage used for calculations ----------
            // ุฅุฐุง ุชู ุชูุนูู ูุฑู ุงูุฃุฌูุฑ ูุงูุฑุงุชุจ ุงููุชูู ุนููู ููุฏุฎู ูุตุงูุญุ ูุณุชุฎุฏู agreedWage ูุฃุฌุฑ ูุนุชูุฏ
            let wageUsed = lastWage;
            if (wageDiffChecked && agreedWage > 0) {
                wageUsed = agreedWage;
            }

            // ุชุญูููุงุช ุงูุฃุฌุฑ
            const dailyWage = wageType === 'daily' ? wageUsed : (wageUsed / 30);
            const monthlyWage = wageType === 'monthly' ? wageUsed : (wageUsed * 30);
            const hourlyWage = dailyWage / 8;

            // ---------- Unpaid salaries (use wageUsed for monthly/daily) ----------
            // ุงูุชุนุฏูู ุงูููู: ุฅุฐุง ูุงู ุงูุนูุฏ ูุญุฏุฏ ุงููุฏุฉ ูุชู ุฅููุงุคู ุจุฑุถุง ุงูุทุฑูููุ ูุง ูุญุชุณุจ ุงูุฑูุงุชุจ ุงููุณุชุญูุฉ
            let unpaidSalaries = 0;
            let showUnpaidSalaries = true;
            
            if (contractType === 'definite' && terminationType === 'mutual') {
                // ูู ุญุงูุฉ ุฅููุงุก ุงูุนูุฏ ุงููุญุฏุฏ ุงููุฏุฉ ุจุฑุถุง ุงูุทุฑูููุ ูุง ูุณุชุญู ุงูุนุงูู ุฑูุงุชุจ ุนู ุงููุฏุฉ ุงููุชุจููุฉ
                unpaidSalaries = extraUnpaidMonths * monthlyWage; // ููุท ุงูุฃุดูุฑ ุงูุฅุถุงููุฉ ุงููุณุชุญูุฉ
                showUnpaidSalaries = false;
            } else {
                // ูู ุงูุญุงูุงุช ุงูุฃุฎุฑูุ ูุญุชุณุจ ุฌููุน ุงูุฑูุงุชุจ ุงููุณุชุญูุฉ
                unpaidSalaries = ((unpaidMonths + extraUnpaidMonths) * monthlyWage) + (unpaidDays * dailyWage);
            }

            // ---------- Vacation pay ----------
            const vacationPay = vacationDays * dailyWage;

            // ---------- End of service ----------
            let endOfServiceCompensation = 0;
            let explanation = "";
            let socialSecurityNote = "";

            let arbitraryDismissalCompensation = 0;
            let arbitraryDismissalExplanation = "";

            if (arbitraryDismissal && contractType === 'indefinite' && terminationType === 'indefinite') {
                arbitraryDismissalCompensation = calculateArbitraryDismissalCompensation(monthlyWage, serviceYears, serviceMonths, serviceDays);
                arbitraryDismissalExplanation = getArbitraryDismissalExplanation(monthlyWage, serviceYears, serviceMonths, serviceDays, arbitraryDismissalCompensation);
            }

            if (socialSecurity === 'yes') {
                endOfServiceCompensation = 0;
                explanation = translations[currentLanguage]['noEndOfService'];
                socialSecurityNote = "";
            } else {
                endOfServiceCompensation = calculateEndOfServiceCompensation(monthlyWage, serviceYears, serviceMonths, serviceDays);
                explanation = translations[currentLanguage]['endOfServiceExplanation'];
                socialSecurityNote = translations[currentLanguage]['endOfServiceNote'];
            }

            // ---------- Notice compensation ----------
            let noticeCompensation = 0;
            let noticeExplanation = "";
            if (contractType === 'definite') {
                noticeCompensation = 0;
                noticeExplanation = translations[currentLanguage]['noNoticeCompensation'];
            } else {
                noticeCompensation = noticeMonth ? monthlyWage : 0;
                noticeExplanation = noticeMonth ? translations[currentLanguage]['noticeCompensationYes'] : translations[currentLanguage]['noticeCompensationNo'];
            }

            // ---------- Overtime pay ----------
            let overtimePay = 0;
            if (overtimeHoursPerMonth > 0) {
                overtimePay = overtimeHoursPerMonth * overtimeMonths * hourlyWage * 1.25;
            } else if (overtimeHoursPerDay > 0 && overtimeDaysPerMonth > 0) {
                overtimePay = overtimeHoursPerDay * overtimeDaysPerMonth * overtimeMonths * hourlyWage * 1.25;
            }

            // ---------- Holiday & Friday pay ----------
            const holidayPay = holidayDays * dailyWage * 1.5;
            const fridayPay = fridayDays * dailyWage * 1.5;

            // ---------- Wage difference calculation ----------
            // ุงูุชุนุฏูู ุงููุทููุจ: ุงุณุชุฎุฏุงู ุขุฎุฑ ุณูุชูู ููุท ูู ูุฏุฉ ุงูุฎุฏูุฉ ูุญุณุงุจ ูุฑู ุงูุฃุฌูุฑ
            let wageDifferenceTotal = 0;
            let wageDifferencePerMonth = 0;
            let wageDifferenceExplanation = "";
            let wageDifferenceCalculation = "";
            if (wageDiffChecked && agreedWage > 0) {
                // ุญุณุงุจ ูุฑู ุงูุฃุฌุฑ ุงูุดูุฑู
                const lastMonthly = wageType === 'monthly' ? lastWage : (lastWage * 30);
                const agreedMonthly = wageType === 'monthly' ? agreedWage : (agreedWage * 30);
                wageDifferencePerMonth = agreedMonthly - lastMonthly;

                // ุงุณุชุฎุฏุงู ุขุฎุฑ ุณูุชูู ููุท ูู ูุฏุฉ ุงูุฎุฏูุฉ (ุงูุญุฏ ุงูุฃูุตู 24 ุดูุฑ)
                let totalServiceMonthsForDiff = serviceYears * 12 + serviceMonths + (serviceDays / 30);
                
                // ุงูุชุนุฏูู ุงููุทููุจ: ุงูุญุฏ ุงูุฃูุตู ูุงุญุชุณุงุจ ูุฑู ุงูุฃุฌูุฑ ูู 24 ุดูุฑ (ุณูุชูู)
                if (totalServiceMonthsForDiff > 24) {
                    totalServiceMonthsForDiff = 24;
                }
                
                wageDifferenceTotal = wageDifferencePerMonth * totalServiceMonthsForDiff;
                // ูุง ูุนุฑุถ ููู ุณุงูุจุฉ (ุฅุฐุง ุฏููุน ุตุงุญุจ ุงูุนูู ุฃูุซุฑ ูู ุงููุชูู ุนููู)
                if (wageDifferenceTotal < 0) wageDifferenceTotal = 0;

                wageDifferenceExplanation = translations[currentLanguage]['wageDifferenceExplanation'];
                
                // ุฅูุดุงุก ูุต ููุถุญ ููููุฉ ุงูุญุณุงุจ
                wageDifferenceCalculation = translations[currentLanguage]['wageDifferenceCalculation']
                    .replace('${agreedWage}', agreedWage)
                    .replace('${lastWage}', lastWage)
                    .replace('${totalServiceMonthsForDiff}', totalServiceMonthsForDiff.toFixed(2))
                    .replace('${wageDifferenceTotal}', wageDifferenceTotal.toFixed(2));
            }

            // ---------- ุญุณุงุจ ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ ----------
            let extraSalariesTotal = 0;
            let extraSalariesNumbers = [];

            if (extraSalariesChecked) {
                // ุฌูุน ุงูุฃุฑูุงู ุงููุฎุชุงุฑุฉ
                if (thirteenthSalary) extraSalariesNumbers.push("13");
                if (fourteenthSalary) extraSalariesNumbers.push("14");
                if (fifteenthSalary) extraSalariesNumbers.push("15");
                if (sixteenthSalary) extraSalariesNumbers.push("16");

                // ุญุณุงุจ ูููุฉ ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ (ูู ุฑุงุชุจ ุฅุถุงูู ูุณุงูู ุงูุฑุงุชุจ ุงูุดูุฑู)
                extraSalariesTotal = extraSalariesNumbers.length * monthlyWage;
            }

            // ---------- Total compensation ----------
            const totalCompensation = unpaidSalaries + vacationPay + endOfServiceCompensation +
                noticeCompensation + overtimePay + holidayPay + fridayPay + arbitraryDismissalCompensation + wageDifferenceTotal + extraSalariesTotal + savingsBalance;

            // ---------- Build results HTML ----------
            let html = `
                <div class="result-item"><span style="color:#000000;font-weight:800">${translations[currentLanguage]['wageUsedLabel']}:</span><span style="color:#000000;font-weight:800">${wageUsed.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
            `;

            // ุฅุธูุงุฑ ุจูุฏ ุงูุฑูุงุชุจ ุงููุณุชุญูุฉ ููุท ุฅุฐุง ูุงู ูุณููุญุงู ุจู
            if (showUnpaidSalaries || unpaidSalaries > 0) {
                html += `<div class="result-item"><span>${translations[currentLanguage]['unpaidSalaries']}:</span><span>${unpaidSalaries.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            }

            html += `
                <div class="result-item"><span>${translations[currentLanguage]['vacationPay']}:</span><span>${vacationPay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['endOfService']}:</span><span>${endOfServiceCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['noticeCompensation']}:</span><span>${noticeCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['overtimePay']}:</span><span>${overtimePay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['holidayPay']}:</span><span>${holidayPay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
                <div class="result-item"><span>${translations[currentLanguage]['fridayPay']}:</span><span>${fridayPay.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>
            `;

            if (arbitraryDismissalCompensation > 0) {
                html += `<div class="result-item"><span>${translations[currentLanguage]['arbitraryDismissalComp']}:</span><span>${arbitraryDismissalCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            }

            if (wageDifferenceTotal > 0) {
                html += `<div class="result-item"><span>${translations[currentLanguage]['wageDifferenceLabel']}:</span><span>${wageDifferenceTotal.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
                html += `<div class="result-note">${wageDifferenceExplanation}</div>`;
                html += `<div class="result-note">${wageDifferenceCalculation}</div>`;
            }

            // ุฅุถุงูุฉ ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ ุฅุฐุง ุชู ุงุฎุชูุงุฑูุง
            if (extraSalariesChecked && extraSalariesTotal > 0) {
                const numbersText = extraSalariesNumbers.join(" ู");
                html += `<div class="result-item"><span>${translations[currentLanguage]['extraSalariesTotal']} (${numbersText}):</span><span>${extraSalariesTotal.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            }

            // ุฅุถุงูุฉ ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู ุฅุฐุง ุชู ุงุฎุชูุงุฑู
            if (savingsBalanceChecked && savingsBalance > 0) {
                html += `<div class="result-item"><span>${translations[currentLanguage]['savingsBalance']}:</span><span>${savingsBalance.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            }

            html += `<div class="result-item"><span>${translations[currentLanguage]['total']}:</span><span>${totalCompensation.toFixed(2)} ${translations[currentLanguage]['dinar']}</span></div>`;
            html += `<div class="result-note">${explanation}</div>`;
            html += `<div class="result-note">${noticeExplanation}</div>`;
            
            // ุฅุถุงูุฉ ููุงุญุธุฉ ุฎุงุตุฉ ุจุฅููุงุก ุงูุนูุฏ ุจุฑุถุง ุงูุทุฑููู
            if (contractType === 'definite' && terminationType === 'mutual') {
                html += `<div class="result-note">${translations[currentLanguage]['mutualTerminationNote']}</div>`;
            }
            
            if (arbitraryDismissalExplanation) html += `<div class="result-note">${arbitraryDismissalExplanation}</div>`;
            if (socialSecurityNote) html += `<div class="result-note">${socialSecurityNote}</div>`;
            html += `<div class="result-note">${translations[currentLanguage]['vacationCalculationNote']}</div>`;
            if (wageDiffChecked && agreedWage > 0) {
                html += `<div class="result-note">${currentLanguage === 'ar' ? 'ุชู ุงุณุชุฎุฏุงู ุงูุฑุงุชุจ ุงููุชูู ุนููู ูู ุฌููุน ุญุณุงุจุงุช ุงููุณุชุญูุงุช ูุฅุถุงูุฉ ุจูุฏ ูุฑู ุงูุฃุฌูุฑ.' : 'Agreed wage was used for all entitlement calculations and wage difference was added.'}</div>`;
            }
            if (manualOvertimeInput) {
                html += `<div class="result-note">${currentLanguage === 'ar' ? 'ุชู ุงุณุชุฎุฏุงู ูููุฉ ุณุงุนุงุช ุงูุนูู ุงูุฅุถุงูู ุงูุดูุฑูุฉ ุงููุฏุฎูุฉ ูุฏููุงู' : 'Manually entered monthly overtime hours value was used'}</div>`;
            }
            if (extraSalariesChecked && extraSalariesTotal > 0) {
                html += `<div class="result-note">${currentLanguage === 'ar' ? 'ุชู ุฅุถุงูุฉ ุงูุฑูุงุชุจ ุงูุฅุถุงููุฉ ุงููุฎุชุงุฑุฉ (ูู ุฑุงุชุจ ุฅุถุงูู ูุณุงูู ุงูุฑุงุชุจ ุงูุดูุฑู)' : 'Selected extra salaries have been added (each extra salary equals monthly wage)'}</div>`;
            }
            if (savingsBalanceChecked && savingsBalance > 0) {
                html += `<div class="result-note">${currentLanguage === 'ar' ? 'ุชู ุฅุถุงูุฉ ุงูุฑุตูุฏ ุงูุงุฏุฎุงุฑู ุฅูู ุฅุฌูุงูู ุงููุณุชุญูุงุช' : 'Savings balance has been added to total entitlements'}</div>`;
            }

            document.getElementById('resultContent').innerHTML = html;
            document.getElementById('resultSection').style.display = 'block';
            window.scrollTo({ top: document.getElementById('resultSection').offsetTop - 10, behavior: 'smooth' });
        }

        function calculateArbitraryDismissalCompensation(monthlyWage, years, months, days) {
            const totalYears = years + (months / 12) + (days / 360);
            let compensation = (totalYears * 0.5) * monthlyWage;
            if (compensation < monthlyWage * 2) compensation = monthlyWage * 2;
            return compensation;
        }

        function getArbitraryDismissalExplanation(monthlyWage, years, months, days, compensation) {
            const totalYears = years + (months / 12) + (days / 360);
            const baseCompensation = (totalYears * 0.5) * monthlyWage;
            if (baseCompensation < monthlyWage * 2) {
                return `${translations[currentLanguage]['arbitraryDismissalExplanation1']} (${(monthlyWage * 2).toFixed(2)} ${translations[currentLanguage]['arbitraryDismissalExplanation2']})`;
            } else {
                return `${translations[currentLanguage]['arbitraryDismissalExplanation1']} (${baseCompensation.toFixed(2)} ${translations[currentLanguage]['arbitraryDismissalExplanation2']})`;
            }
        }

        function calculateEndOfServiceCompensation(monthlyWage, years, months, days) {
            // ุจุฏู ููุงูุฉ ุงูุฎุฏูุฉ: ุดูุฑ ุนู ูู ุณูุฉ ุฎุฏูุฉ (ุชุจุณูุท ูุทุงุจู ููุชุฑุฌูุฉ ุงูุฃุตููุฉ)
            const totalYears = years + (months / 12) + (days / 360);
            return monthlyWage * totalYears;
        }
    </script>
</body>
</html>
